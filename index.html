<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@whiskeysockets/baileys</title><meta name="description" content="Documentation for @whiskeysockets/baileys"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@whiskeysockets/baileys</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@whiskeysockets/baileys </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#baileys---typescriptjavascript-whatsapp-web-api" id="baileys---typescriptjavascript-whatsapp-web-api" style="color: inherit; text-decoration: none;">
  <h1>Baileys - Typescript/Javascript WhatsApp Web API</h1>
</a>
<p>Baileys does not require Selenium or any other browser to be interface with WhatsApp Web, it does so directly using a <strong>WebSocket</strong>. 
Not running Selenium or Chromimum saves you like <strong>half a gig</strong> of ram :/ 
Baileys supports interacting with the multi-device &amp; web versions of WhatsApp.
Thank you to <a href="https://github.com/pokearaujo/multidevice">@pokearaujo</a> for writing his observations on the workings of WhatsApp Multi-Device. Also, thank you to <a href="https://github.com/sigalor/whatsapp-web-reveng">@Sigalor</a> for writing his observations on the workings of WhatsApp Web and thanks to <a href="https://github.com/Rhymen/go-whatsapp/">@Rhymen</a> for the <strong>go</strong> implementation.</p>

<a href="#please-read" id="please-read" style="color: inherit; text-decoration: none;">
  <h2>Please Read</h2>
</a>
<p>The original repository had to be removed by the original author - we now continue development in this repository here.
This is the only official repository and is maintained by the community.
 <strong>Join the Discord <a href="https://discord.gg/WeJM5FP9GG">here</a></strong></p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<p>Do check out &amp; run <a href="/blob/master/Example/example.ts">example.ts</a> to see an example usage of the library.
The script covers most common use cases.
To run the example script, download or clone the repo and then type the following in a terminal:</p>
<ol>
<li><code>cd path/to/Baileys</code></li>
<li><code>yarn</code></li>
<li><code>yarn example</code></li>
</ol>

<a href="#install" id="install" style="color: inherit; text-decoration: none;">
  <h2>Install</h2>
</a>
<p>Use the stable version:</p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> @</span><span class="hl-0">whiskeysockets</span><span class="hl-1">/</span><span class="hl-0">baileys</span>
</code></pre>
<p>Use the edge version (no guarantee of stability, but latest fixes + features)</p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> </span><span class="hl-2">github</span><span class="hl-1">:</span><span class="hl-0">WhiskeySockets</span><span class="hl-1">/</span><span class="hl-0">Baileys</span>
</code></pre>
<p>Then import your code using:</p>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-0">makeWASocket</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@whiskeysockets/baileys&#39;</span>
</code></pre>

<a href="#unit-tests" id="unit-tests" style="color: inherit; text-decoration: none;">
  <h2>Unit Tests</h2>
</a>
<p>TODO</p>

<a href="#connecting" id="connecting" style="color: inherit; text-decoration: none;">
  <h2>Connecting</h2>
</a>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-0">makeWASocket</span><span class="hl-1">, { </span><span class="hl-0">DisconnectReason</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@whiskeysockets/baileys&#39;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">Boom</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@hapi/boom&#39;</span><br/><br/><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-6">connectToWhatsApp</span><span class="hl-1"> () {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sock</span><span class="hl-1"> = </span><span class="hl-6">makeWASocket</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-8">// can provide additional config here</span><br/><span class="hl-1">        </span><span class="hl-0">printQRInTerminal:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ev</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1">(</span><span class="hl-4">&#39;connection.update&#39;</span><span class="hl-1">, (</span><span class="hl-0">update</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-7">connection</span><span class="hl-1">, </span><span class="hl-7">lastDisconnect</span><span class="hl-1"> } = </span><span class="hl-0">update</span><br/><span class="hl-1">        </span><span class="hl-3">if</span><span class="hl-1">(</span><span class="hl-0">connection</span><span class="hl-1"> === </span><span class="hl-4">&#39;close&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">shouldReconnect</span><span class="hl-1"> = (</span><span class="hl-0">lastDisconnect</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1"> </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-9">Boom</span><span class="hl-1">)?.</span><span class="hl-0">output</span><span class="hl-1">?.</span><span class="hl-0">statusCode</span><span class="hl-1"> !== </span><span class="hl-0">DisconnectReason</span><span class="hl-1">.</span><span class="hl-0">loggedOut</span><br/><span class="hl-1">            </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&#39;connection closed due to &#39;</span><span class="hl-1">, </span><span class="hl-0">lastDisconnect</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">, </span><span class="hl-4">&#39;, reconnecting &#39;</span><span class="hl-1">, </span><span class="hl-0">shouldReconnect</span><span class="hl-1">)</span><br/><span class="hl-1">            </span><span class="hl-8">// reconnect if not logged out</span><br/><span class="hl-1">            </span><span class="hl-3">if</span><span class="hl-1">(</span><span class="hl-0">shouldReconnect</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-6">connectToWhatsApp</span><span class="hl-1">()</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        } </span><span class="hl-3">else</span><span class="hl-1"> </span><span class="hl-3">if</span><span class="hl-1">(</span><span class="hl-0">connection</span><span class="hl-1"> === </span><span class="hl-4">&#39;open&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&#39;opened connection&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ev</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1">(</span><span class="hl-4">&#39;messages.upsert&#39;</span><span class="hl-1">, </span><span class="hl-0">m</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-9">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">m</span><span class="hl-1">, </span><span class="hl-5">undefined</span><span class="hl-1">, </span><span class="hl-10">2</span><span class="hl-1">))</span><br/><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&#39;replying to&#39;</span><span class="hl-1">, </span><span class="hl-0">m</span><span class="hl-1">.</span><span class="hl-0">messages</span><span class="hl-1">[</span><span class="hl-10">0</span><span class="hl-1">].</span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-0">remoteJid</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">m</span><span class="hl-1">.</span><span class="hl-0">messages</span><span class="hl-1">[</span><span class="hl-10">0</span><span class="hl-1">].</span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-0">remoteJid</span><span class="hl-1">!, { </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;Hello there!&#39;</span><span class="hl-1"> })</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">}</span><br/><span class="hl-8">// run in main file</span><br/><span class="hl-6">connectToWhatsApp</span><span class="hl-1">()</span>
</code></pre>
<p>If the connection is successful, you will see a QR code printed on your terminal screen, scan it with WhatsApp on your phone and you&#39;ll be logged in!</p>
<p><strong>Note:</strong> install <code>qrcode-terminal</code> using <code>yarn add qrcode-terminal</code> to auto-print the QR to the terminal.</p>
<p><strong>Note:</strong> the code to support the legacy version of WA Web (pre multi-device) has been removed in v5. Only the standard multi-device connection is now supported. This is done as WA seems to have completely dropped support for the legacy version.</p>

<a href="#configuring-the-connection" id="configuring-the-connection" style="color: inherit; text-decoration: none;">
  <h2>Configuring the Connection</h2>
</a>
<p>You can configure the connection by passing a <code>SocketConfig</code> object.</p>
<p>The entire <code>SocketConfig</code> structure is mentioned here with default values:</p>
<pre><code class="language-ts"><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-9">SocketConfig</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-8">/** the WS url to connect to WA */</span><br/><span class="hl-1">    </span><span class="hl-0">waWebSocketUrl</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1"> | </span><span class="hl-9">URL</span><br/><span class="hl-1">    </span><span class="hl-8">/** Fails the connection if the socket times out in this interval */</span><br/><span class="hl-1">    </span><span class="hl-0">connectTimeoutMs</span><span class="hl-1">: </span><span class="hl-9">number</span><br/><span class="hl-1">    </span><span class="hl-8">/** Default timeout for queries, undefined for no timeout */</span><br/><span class="hl-1">    </span><span class="hl-0">defaultQueryTimeoutMs</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1"> | </span><span class="hl-9">undefined</span><br/><span class="hl-1">    </span><span class="hl-8">/** ping-pong interval for WS connection */</span><br/><span class="hl-1">    </span><span class="hl-0">keepAliveIntervalMs</span><span class="hl-1">: </span><span class="hl-9">number</span><br/><span class="hl-1">    </span><span class="hl-8">/** proxy agent */</span><br/><span class="hl-1">    </span><span class="hl-0">agent</span><span class="hl-1">?: </span><span class="hl-9">Agent</span><br/><span class="hl-1">    </span><span class="hl-8">/** pino logger */</span><br/><span class="hl-1">    </span><span class="hl-0">logger</span><span class="hl-1">: </span><span class="hl-9">Logger</span><br/><span class="hl-1">    </span><span class="hl-8">/** version to connect with */</span><br/><span class="hl-1">    </span><span class="hl-0">version</span><span class="hl-1">: </span><span class="hl-9">WAVersion</span><br/><span class="hl-1">    </span><span class="hl-8">/** override browser config */</span><br/><span class="hl-1">    </span><span class="hl-0">browser</span><span class="hl-1">: </span><span class="hl-9">WABrowserDescription</span><br/><span class="hl-1">    </span><span class="hl-8">/** agent used for fetch requests -- uploading/downloading media */</span><br/><span class="hl-1">    </span><span class="hl-0">fetchAgent</span><span class="hl-1">?: </span><span class="hl-9">Agent</span><br/><span class="hl-1">    </span><span class="hl-8">/** should the QR be printed in the terminal */</span><br/><span class="hl-1">    </span><span class="hl-0">printQRInTerminal</span><span class="hl-1">: </span><span class="hl-9">boolean</span><br/><span class="hl-1">    </span><span class="hl-8">/** should events be emitted for actions done by this socket connection */</span><br/><span class="hl-1">    </span><span class="hl-0">emitOwnEvents</span><span class="hl-1">: </span><span class="hl-9">boolean</span><br/><span class="hl-1">    </span><span class="hl-8">/** provide a cache to store media, so does not have to be re-uploaded */</span><br/><span class="hl-1">    </span><span class="hl-0">mediaCache</span><span class="hl-1">?: </span><span class="hl-9">NodeCache</span><br/><span class="hl-1">    </span><span class="hl-8">/** custom upload hosts to upload media to */</span><br/><span class="hl-1">    </span><span class="hl-0">customUploadHosts</span><span class="hl-1">: </span><span class="hl-9">MediaConnInfo</span><span class="hl-1">[</span><span class="hl-4">&#39;hosts&#39;</span><span class="hl-1">]</span><br/><span class="hl-1">    </span><span class="hl-8">/** time to wait between sending new retry requests */</span><br/><span class="hl-1">    </span><span class="hl-0">retryRequestDelayMs</span><span class="hl-1">: </span><span class="hl-9">number</span><br/><span class="hl-1">    </span><span class="hl-8">/** time to wait for the generation of the next QR in ms */</span><br/><span class="hl-1">    </span><span class="hl-0">qrTimeout</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-8">/** provide an auth state object to maintain the auth state */</span><br/><span class="hl-1">    </span><span class="hl-0">auth</span><span class="hl-1">: </span><span class="hl-9">AuthenticationState</span><br/><span class="hl-1">    </span><span class="hl-8">/** manage history processing with this control; by default will sync up everything */</span><br/><span class="hl-1">    </span><span class="hl-6">shouldSyncHistoryMessage</span><span class="hl-1">: (</span><span class="hl-0">msg</span><span class="hl-1">: </span><span class="hl-9">proto</span><span class="hl-1">.</span><span class="hl-9">Message</span><span class="hl-1">.</span><span class="hl-9">IHistorySyncNotification</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-9">boolean</span><br/><span class="hl-1">    </span><span class="hl-8">/** transaction capability options for SignalKeyStore */</span><br/><span class="hl-1">    </span><span class="hl-0">transactionOpts</span><span class="hl-1">: </span><span class="hl-9">TransactionCapabilityOptions</span><br/><span class="hl-1">    </span><span class="hl-8">/** provide a cache to store a user&#39;s device list */</span><br/><span class="hl-1">    </span><span class="hl-0">userDevicesCache</span><span class="hl-1">?: </span><span class="hl-9">NodeCache</span><br/><span class="hl-1">    </span><span class="hl-8">/** marks the client as online whenever the socket successfully connects */</span><br/><span class="hl-1">    </span><span class="hl-0">markOnlineOnConnect</span><span class="hl-1">: </span><span class="hl-9">boolean</span><br/><span class="hl-1">    </span><span class="hl-8">/**</span><br/><span class="hl-8">     * map to store the retry counts for failed messages;</span><br/><span class="hl-8">     * used to determine whether to retry a message or not */</span><br/><span class="hl-1">    </span><span class="hl-0">msgRetryCounterMap</span><span class="hl-1">?: </span><span class="hl-9">MessageRetryMap</span><br/><span class="hl-1">    </span><span class="hl-8">/** width for link preview images */</span><br/><span class="hl-1">    </span><span class="hl-0">linkPreviewImageThumbnailWidth</span><span class="hl-1">: </span><span class="hl-9">number</span><br/><span class="hl-1">    </span><span class="hl-8">/** Should Baileys ask the phone for full history, will be received async */</span><br/><span class="hl-1">    </span><span class="hl-0">syncFullHistory</span><span class="hl-1">: </span><span class="hl-9">boolean</span><br/><span class="hl-1">    </span><span class="hl-8">/** Should baileys fire init queries automatically, default true */</span><br/><span class="hl-1">    </span><span class="hl-0">fireInitQueries</span><span class="hl-1">: </span><span class="hl-9">boolean</span><br/><span class="hl-1">    </span><span class="hl-8">/**</span><br/><span class="hl-8">     * generate a high quality link preview,</span><br/><span class="hl-8">     * entails uploading the jpegThumbnail to WA</span><br/><span class="hl-8">     * */</span><br/><span class="hl-1">    </span><span class="hl-0">generateHighQualityLinkPreview</span><span class="hl-1">: </span><span class="hl-9">boolean</span><br/><br/><span class="hl-1">    </span><span class="hl-8">/** options for axios */</span><br/><span class="hl-1">    </span><span class="hl-0">options</span><span class="hl-1">: </span><span class="hl-9">AxiosRequestConfig</span><span class="hl-1">&lt;</span><span class="hl-9">any</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    </span><span class="hl-8">/**</span><br/><span class="hl-8">     * fetch a message from your store</span><br/><span class="hl-8">     * implement this so that messages failed to send (solves the &quot;this message can take a while&quot; issue) can be retried</span><br/><span class="hl-8">     * */</span><br/><span class="hl-1">    </span><span class="hl-6">getMessage</span><span class="hl-1">: (</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-9">proto</span><span class="hl-1">.</span><span class="hl-9">IMessageKey</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">proto</span><span class="hl-1">.</span><span class="hl-9">IMessage</span><span class="hl-1"> | </span><span class="hl-9">undefined</span><span class="hl-1">&gt;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#emulating-the-desktop-app-instead-of-the-web" id="emulating-the-desktop-app-instead-of-the-web" style="color: inherit; text-decoration: none;">
  <h3>Emulating the Desktop app instead of the web</h3>
</a>
<ol>
<li>Baileys, by default, emulates a chrome web session</li>
<li>If you&#39;d like to emulate a desktop connection (and receive more message history), add this to your Socket config:<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">conn</span><span class="hl-1"> = </span><span class="hl-6">makeWASocket</span><span class="hl-1">({</span><br/><span class="hl-1">    ...</span><span class="hl-0">otherOpts</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-8">// can use Windows, Ubuntu here too</span><br/><span class="hl-1">    </span><span class="hl-0">browser:</span><span class="hl-1"> </span><span class="hl-0">Browsers</span><span class="hl-1">.</span><span class="hl-6">macOS</span><span class="hl-1">(</span><span class="hl-4">&#39;Desktop&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">syncFullHistory:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">})</span>
</code></pre>
</li>
</ol>

<a href="#saving-amp-restoring-sessions" id="saving-amp-restoring-sessions" style="color: inherit; text-decoration: none;">
  <h2>Saving &amp; Restoring Sessions</h2>
</a>
<p>You obviously don&#39;t want to keep scanning the QR code every time you want to connect. </p>
<p>So, you can load the credentials to log back in:</p>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-0">makeWASocket</span><span class="hl-1">, { </span><span class="hl-0">BufferJSON</span><span class="hl-1">, </span><span class="hl-0">useMultiFileAuthState</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@whiskeysockets/baileys&#39;</span><br/><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-5">*</span><span class="hl-1"> </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-0">fs</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;fs&#39;</span><br/><br/><span class="hl-8">// utility function to help save the auth state in a single folder</span><br/><span class="hl-8">// this function serves as a good guide to help write auth &amp; key states for SQL/no-SQL databases, which I would recommend in any production grade system</span><br/><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-7">state</span><span class="hl-1">, </span><span class="hl-7">saveCreds</span><span class="hl-1"> } = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">useMultiFileAuthState</span><span class="hl-1">(</span><span class="hl-4">&#39;auth_info_baileys&#39;</span><span class="hl-1">)</span><br/><span class="hl-8">// will use the given state to connect</span><br/><span class="hl-8">// so if valid credentials are available -- it&#39;ll connect without QR</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">conn</span><span class="hl-1"> = </span><span class="hl-6">makeWASocket</span><span class="hl-1">({ </span><span class="hl-0">auth:</span><span class="hl-1"> </span><span class="hl-0">state</span><span class="hl-1"> }) </span><br/><span class="hl-8">// this will be called as soon as the credentials are updated</span><br/><span class="hl-0">conn</span><span class="hl-1">.</span><span class="hl-0">ev</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1"> (</span><span class="hl-4">&#39;creds.update&#39;</span><span class="hl-1">, </span><span class="hl-0">saveCreds</span><span class="hl-1">)</span>
</code></pre>
<p><strong>Note:</strong> When a message is received/sent, due to signal sessions needing updating, the auth keys (<code>authState.keys</code>) will update. Whenever that happens, you must save the updated keys (<code>authState.keys.set()</code> is called). Not doing so will prevent your messages from reaching the recipient &amp; cause other unexpected consequences. The <code>useMultiFileAuthState</code> function automatically takes care of that, but for any other serious implementation -- you will need to be very careful with the key state management.</p>

<a href="#listening-to-connection-updates" id="listening-to-connection-updates" style="color: inherit; text-decoration: none;">
  <h2>Listening to Connection Updates</h2>
</a>
<p>Baileys now fires the <code>connection.update</code> event to let you know something has updated in the connection. This data has the following structure:</p>
<pre><code class="language-ts"><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-9">ConnectionState</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-8">/** connection is now open, connecting or closed */</span><br/><span class="hl-1">    </span><span class="hl-0">connection</span><span class="hl-1">: </span><span class="hl-9">WAConnectionState</span><br/><span class="hl-1">    </span><span class="hl-8">/** the error that caused the connection to close */</span><br/><span class="hl-1">    </span><span class="hl-0">lastDisconnect</span><span class="hl-1">?: {</span><br/><span class="hl-1">        </span><span class="hl-0">error</span><span class="hl-1">: </span><span class="hl-9">Error</span><br/><span class="hl-1">        </span><span class="hl-0">date</span><span class="hl-1">: </span><span class="hl-9">Date</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-8">/** is this a new login */</span><br/><span class="hl-1">    </span><span class="hl-0">isNewLogin</span><span class="hl-1">?: </span><span class="hl-9">boolean</span><br/><span class="hl-1">    </span><span class="hl-8">/** the current QR code */</span><br/><span class="hl-1">    </span><span class="hl-0">qr</span><span class="hl-1">?: </span><span class="hl-9">string</span><br/><span class="hl-1">    </span><span class="hl-8">/** has the device received all pending notifications while it was offline */</span><br/><span class="hl-1">    </span><span class="hl-0">receivedPendingNotifications</span><span class="hl-1">?: </span><span class="hl-9">boolean</span><span class="hl-1"> </span><br/><span class="hl-1">}</span>
</code></pre>
<p><strong>Note:</strong> this also offers any updates to the QR</p>

<a href="#handling-events" id="handling-events" style="color: inherit; text-decoration: none;">
  <h2>Handling Events</h2>
</a>
<p>Baileys uses the EventEmitter syntax for events. 
They&#39;re all nicely typed up, so you shouldn&#39;t have any issues with an Intellisense editor like VS Code.</p>
<p>The events are typed as mentioned here:</p>
<pre><code class="language-ts"><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-9">BaileysEventMap</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-8">/** connection state has been updated -- WS closed, opened, connecting etc. */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;connection.update&#39;</span><span class="hl-1">: </span><span class="hl-9">Partial</span><span class="hl-1">&lt;</span><span class="hl-9">ConnectionState</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    </span><span class="hl-8">/** credentials updated -- some metadata, keys or something */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;creds.update&#39;</span><span class="hl-1">: </span><span class="hl-9">Partial</span><span class="hl-1">&lt;</span><span class="hl-9">AuthenticationCreds</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    </span><span class="hl-8">/** history sync, everything is reverse chronologically sorted */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;messaging-history.set&#39;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-0">chats</span><span class="hl-1">: </span><span class="hl-9">Chat</span><span class="hl-1">[]</span><br/><span class="hl-1">        </span><span class="hl-0">contacts</span><span class="hl-1">: </span><span class="hl-9">Contact</span><span class="hl-1">[]</span><br/><span class="hl-1">        </span><span class="hl-0">messages</span><span class="hl-1">: </span><span class="hl-9">WAMessage</span><span class="hl-1">[]</span><br/><span class="hl-1">        </span><span class="hl-0">isLatest</span><span class="hl-1">: </span><span class="hl-9">boolean</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-8">/** upsert chats */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;chats.upsert&#39;</span><span class="hl-1">: </span><span class="hl-9">Chat</span><span class="hl-1">[]</span><br/><span class="hl-1">    </span><span class="hl-8">/** update the given chats */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;chats.update&#39;</span><span class="hl-1">: </span><span class="hl-9">Partial</span><span class="hl-1">&lt;</span><span class="hl-9">Chat</span><span class="hl-1">&gt;[]</span><br/><span class="hl-1">    </span><span class="hl-8">/** delete chats with given ID */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;chats.delete&#39;</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">[]</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;labels.association&#39;</span><span class="hl-1">: </span><span class="hl-9">LabelAssociation</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;labels.edit&#39;</span><span class="hl-1">: </span><span class="hl-9">Label</span><br/><span class="hl-1">    </span><span class="hl-8">/** presence of contact in a chat updated */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;presence.update&#39;</span><span class="hl-1">: { </span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">, </span><span class="hl-0">presences</span><span class="hl-1">: { [</span><span class="hl-0">participant</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">]: </span><span class="hl-9">PresenceData</span><span class="hl-1"> } }</span><br/><br/><span class="hl-1">    </span><span class="hl-4">&#39;contacts.upsert&#39;</span><span class="hl-1">: </span><span class="hl-9">Contact</span><span class="hl-1">[]</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;contacts.update&#39;</span><span class="hl-1">: </span><span class="hl-9">Partial</span><span class="hl-1">&lt;</span><span class="hl-9">Contact</span><span class="hl-1">&gt;[]</span><br/><br/><span class="hl-1">    </span><span class="hl-4">&#39;messages.delete&#39;</span><span class="hl-1">: { </span><span class="hl-0">keys</span><span class="hl-1">: </span><span class="hl-9">WAMessageKey</span><span class="hl-1">[] } | { </span><span class="hl-0">jid</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">, </span><span class="hl-0">all</span><span class="hl-1">: </span><span class="hl-9">true</span><span class="hl-1"> }</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;messages.update&#39;</span><span class="hl-1">: </span><span class="hl-9">WAMessageUpdate</span><span class="hl-1">[]</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;messages.media-update&#39;</span><span class="hl-1">: { </span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-9">WAMessageKey</span><span class="hl-1">, </span><span class="hl-0">media</span><span class="hl-1">?: { </span><span class="hl-0">ciphertext</span><span class="hl-1">: </span><span class="hl-9">Uint8Array</span><span class="hl-1">, </span><span class="hl-0">iv</span><span class="hl-1">: </span><span class="hl-9">Uint8Array</span><span class="hl-1"> }, </span><span class="hl-0">error</span><span class="hl-1">?: </span><span class="hl-9">Boom</span><span class="hl-1"> }[]</span><br/><span class="hl-1">    </span><span class="hl-8">/**</span><br/><span class="hl-8">     * add/update the given messages. If they were received while the connection was online,</span><br/><span class="hl-8">     * the update will have type: &quot;notify&quot;</span><br/><span class="hl-8">     *  */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;messages.upsert&#39;</span><span class="hl-1">: { </span><span class="hl-0">messages</span><span class="hl-1">: </span><span class="hl-9">WAMessage</span><span class="hl-1">[], </span><span class="hl-0">type</span><span class="hl-1">: </span><span class="hl-9">MessageUpsertType</span><span class="hl-1"> }</span><br/><span class="hl-1">    </span><span class="hl-8">/** message was reacted to. If reaction was removed -- then &quot;reaction.text&quot; will be falsey */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;messages.reaction&#39;</span><span class="hl-1">: { </span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-9">WAMessageKey</span><span class="hl-1">, </span><span class="hl-0">reaction</span><span class="hl-1">: </span><span class="hl-9">proto</span><span class="hl-1">.</span><span class="hl-9">IReaction</span><span class="hl-1"> }[]</span><br/><br/><span class="hl-1">    </span><span class="hl-4">&#39;message-receipt.update&#39;</span><span class="hl-1">: </span><span class="hl-9">MessageUserReceiptUpdate</span><span class="hl-1">[]</span><br/><br/><span class="hl-1">    </span><span class="hl-4">&#39;groups.upsert&#39;</span><span class="hl-1">: </span><span class="hl-9">GroupMetadata</span><span class="hl-1">[]</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;groups.update&#39;</span><span class="hl-1">: </span><span class="hl-9">Partial</span><span class="hl-1">&lt;</span><span class="hl-9">GroupMetadata</span><span class="hl-1">&gt;[]</span><br/><span class="hl-1">    </span><span class="hl-8">/** apply an action to participants in a group */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;group-participants.update&#39;</span><span class="hl-1">: { </span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">, </span><span class="hl-0">participants</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">[], </span><span class="hl-0">action</span><span class="hl-1">: </span><span class="hl-9">ParticipantAction</span><span class="hl-1"> }</span><br/><br/><span class="hl-1">    </span><span class="hl-4">&#39;blocklist.set&#39;</span><span class="hl-1">: { </span><span class="hl-0">blocklist</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">[] }</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;blocklist.update&#39;</span><span class="hl-1">: { </span><span class="hl-0">blocklist</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">[], </span><span class="hl-0">type</span><span class="hl-1">: </span><span class="hl-4">&#39;add&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;remove&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">    </span><span class="hl-8">/** Receive an update on a call, including when the call was received, rejected, accepted */</span><br/><span class="hl-1">    </span><span class="hl-4">&#39;call&#39;</span><span class="hl-1">: </span><span class="hl-9">WACallEvent</span><span class="hl-1">[]</span><br/><span class="hl-1">}</span>
</code></pre>
<p>You can listen to these events like this:</p>
<pre><code class="language-ts"><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sock</span><span class="hl-1"> = </span><span class="hl-6">makeWASocket</span><span class="hl-1">()</span><br/><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ev</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1">(</span><span class="hl-4">&#39;messages.upsert&#39;</span><span class="hl-1">, ({ </span><span class="hl-0">messages</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&#39;got messages&#39;</span><span class="hl-1">, </span><span class="hl-0">messages</span><span class="hl-1">)</span><br/><span class="hl-1">})</span><br/>
</code></pre>

<a href="#implementing-a-data-store" id="implementing-a-data-store" style="color: inherit; text-decoration: none;">
  <h2>Implementing a Data Store</h2>
</a>
<p>Baileys does not come with a defacto storage for chats, contacts, or messages. However, a simple in-memory implementation has been provided. The store listens for chat updates, new messages, message updates, etc., to always have an up-to-date version of the data.</p>
<p>It can be used as follows:</p>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-0">makeWASocket</span><span class="hl-1">, { </span><span class="hl-0">makeInMemoryStore</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@whiskeysockets/baileys&#39;</span><br/><span class="hl-8">// the store maintains the data of the WA connection in memory</span><br/><span class="hl-8">// can be written out to a file &amp; read from it</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">store</span><span class="hl-1"> = </span><span class="hl-6">makeInMemoryStore</span><span class="hl-1">({ })</span><br/><span class="hl-8">// can be read from a file</span><br/><span class="hl-0">store</span><span class="hl-1">.</span><span class="hl-6">readFromFile</span><span class="hl-1">(</span><span class="hl-4">&#39;./baileys_store.json&#39;</span><span class="hl-1">)</span><br/><span class="hl-8">// saves the state to a file every 10s</span><br/><span class="hl-6">setInterval</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">store</span><span class="hl-1">.</span><span class="hl-6">writeToFile</span><span class="hl-1">(</span><span class="hl-4">&#39;./baileys_store.json&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">}, </span><span class="hl-10">10_000</span><span class="hl-1">)</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sock</span><span class="hl-1"> = </span><span class="hl-6">makeWASocket</span><span class="hl-1">({ })</span><br/><span class="hl-8">// will listen from this socket</span><br/><span class="hl-8">// the store can listen from a new socket once the current socket outlives its lifetime</span><br/><span class="hl-0">store</span><span class="hl-1">.</span><span class="hl-6">bind</span><span class="hl-1">(</span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ev</span><span class="hl-1">)</span><br/><br/><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ev</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1">(</span><span class="hl-4">&#39;chats.set&#39;</span><span class="hl-1">, () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// can use &quot;store.chats&quot; however you want, even after the socket dies out</span><br/><span class="hl-1">    </span><span class="hl-8">// &quot;chats&quot; =&gt; a KeyedDB instance</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&#39;got chats&#39;</span><span class="hl-1">, </span><span class="hl-0">store</span><span class="hl-1">.</span><span class="hl-0">chats</span><span class="hl-1">.</span><span class="hl-6">all</span><span class="hl-1">())</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ev</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1">(</span><span class="hl-4">&#39;contacts.set&#39;</span><span class="hl-1">, () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&#39;got contacts&#39;</span><span class="hl-1">, </span><span class="hl-9">Object</span><span class="hl-1">.</span><span class="hl-6">values</span><span class="hl-1">(</span><span class="hl-0">store</span><span class="hl-1">.</span><span class="hl-0">contacts</span><span class="hl-1">))</span><br/><span class="hl-1">})</span><br/>
</code></pre>
<p>The store also provides some simple functions such as <code>loadMessages</code> that utilize the store to speed up data retrieval.</p>
<p><strong>Note:</strong> I highly recommend building your own data store especially for MD connections, as storing someone&#39;s entire chat history in memory is a terrible waste of RAM.</p>

<a href="#sending-messages" id="sending-messages" style="color: inherit; text-decoration: none;">
  <h2>Sending Messages</h2>
</a>
<p><strong>Send all types of messages with a single function:</strong></p>

<a href="#non-media-messages" id="non-media-messages" style="color: inherit; text-decoration: none;">
  <h3>Non-Media Messages</h3>
</a>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">MessageType</span><span class="hl-1">, </span><span class="hl-0">MessageOptions</span><span class="hl-1">, </span><span class="hl-0">Mimetype</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@whiskeysockets/baileys&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">id</span><span class="hl-1"> = </span><span class="hl-4">&#39;abcd@s.whatsapp.net&#39;</span><span class="hl-1"> </span><span class="hl-8">// the WhatsApp ID </span><br/><span class="hl-8">// send a simple text!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sentMsg</span><span class="hl-1">  = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">, { </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;oh hello there&#39;</span><span class="hl-1"> })</span><br/><span class="hl-8">// send a reply messagge</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sentMsg</span><span class="hl-1">  = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">, { </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;oh hello there&#39;</span><span class="hl-1"> }, { </span><span class="hl-0">quoted:</span><span class="hl-1"> </span><span class="hl-0">message</span><span class="hl-1"> })</span><br/><span class="hl-8">// send a mentions message</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sentMsg</span><span class="hl-1">  = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">, { </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;@12345678901&#39;</span><span class="hl-1">, </span><span class="hl-0">mentions:</span><span class="hl-1"> [</span><span class="hl-4">&#39;12345678901@s.whatsapp.net&#39;</span><span class="hl-1">] })</span><br/><span class="hl-8">// send a location!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sentMsg</span><span class="hl-1">  = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">id</span><span class="hl-1">, </span><br/><span class="hl-1">    { </span><span class="hl-0">location:</span><span class="hl-1"> { </span><span class="hl-0">degreesLatitude:</span><span class="hl-1"> </span><span class="hl-10">24.121231</span><span class="hl-1">, </span><span class="hl-0">degreesLongitude:</span><span class="hl-1"> </span><span class="hl-10">55.1121221</span><span class="hl-1"> } }</span><br/><span class="hl-1">)</span><br/><span class="hl-8">// send a contact!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">vcard</span><span class="hl-1"> = </span><span class="hl-4">&#39;BEGIN:VCARD</span><span class="hl-11">\n</span><span class="hl-4">&#39;</span><span class="hl-1"> </span><span class="hl-8">// metadata of the contact card</span><br/><span class="hl-1">            + </span><span class="hl-4">&#39;VERSION:3.0</span><span class="hl-11">\n</span><span class="hl-4">&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">            + </span><span class="hl-4">&#39;FN:Jeff Singh</span><span class="hl-11">\n</span><span class="hl-4">&#39;</span><span class="hl-1"> </span><span class="hl-8">// full name</span><br/><span class="hl-1">            + </span><span class="hl-4">&#39;ORG:Ashoka Uni;</span><span class="hl-11">\n</span><span class="hl-4">&#39;</span><span class="hl-1"> </span><span class="hl-8">// the organization of the contact</span><br/><span class="hl-1">            + </span><span class="hl-4">&#39;TEL;type=CELL;type=VOICE;waid=911234567890:+91 12345 67890</span><span class="hl-11">\n</span><span class="hl-4">&#39;</span><span class="hl-1"> </span><span class="hl-8">// WhatsApp ID + phone number</span><br/><span class="hl-1">            + </span><span class="hl-4">&#39;END:VCARD&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sentMsg</span><span class="hl-1">  = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">id</span><span class="hl-1">,</span><br/><span class="hl-1">    { </span><br/><span class="hl-1">        </span><span class="hl-0">contacts:</span><span class="hl-1"> { </span><br/><span class="hl-1">            </span><span class="hl-0">displayName:</span><span class="hl-1"> </span><span class="hl-4">&#39;Jeff&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">            </span><span class="hl-0">contacts:</span><span class="hl-1"> [{ </span><span class="hl-0">vcard</span><span class="hl-1"> }] </span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-8">// send a buttons message!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">buttons</span><span class="hl-1"> = [</span><br/><span class="hl-1">  {</span><span class="hl-0">buttonId:</span><span class="hl-1"> </span><span class="hl-4">&#39;id1&#39;</span><span class="hl-1">, </span><span class="hl-0">buttonText:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39;Button 1&#39;</span><span class="hl-1">}, </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1">},</span><br/><span class="hl-1">  {</span><span class="hl-0">buttonId:</span><span class="hl-1"> </span><span class="hl-4">&#39;id2&#39;</span><span class="hl-1">, </span><span class="hl-0">buttonText:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39;Button 2&#39;</span><span class="hl-1">}, </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1">},</span><br/><span class="hl-1">  {</span><span class="hl-0">buttonId:</span><span class="hl-1"> </span><span class="hl-4">&#39;id3&#39;</span><span class="hl-1">, </span><span class="hl-0">buttonText:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39;Button 3&#39;</span><span class="hl-1">}, </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1">}</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">buttonMessage</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&quot;Hi it&#39;s button message&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">footer:</span><span class="hl-1"> </span><span class="hl-4">&#39;Hello World&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">buttons:</span><span class="hl-1"> </span><span class="hl-0">buttons</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">headerType:</span><span class="hl-1"> </span><span class="hl-10">1</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sendMsg</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">, </span><span class="hl-0">buttonMessage</span><span class="hl-1">)</span><br/><br/><span class="hl-8">//send a template message!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">templateButtons</span><span class="hl-1"> = [</span><br/><span class="hl-1">    {</span><span class="hl-0">index:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-0">urlButton:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39; Star Baileys on GitHub!&#39;</span><span class="hl-1">, </span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-4">&#39;https://github.com/adiwajshing/Baileys&#39;</span><span class="hl-1">}},</span><br/><span class="hl-1">    {</span><span class="hl-0">index:</span><span class="hl-1"> </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-0">callButton:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39;Call me!&#39;</span><span class="hl-1">, </span><span class="hl-0">phoneNumber:</span><span class="hl-1"> </span><span class="hl-4">&#39;+1 (234) 5678-901&#39;</span><span class="hl-1">}},</span><br/><span class="hl-1">    {</span><span class="hl-0">index:</span><span class="hl-1"> </span><span class="hl-10">3</span><span class="hl-1">, </span><span class="hl-0">quickReplyButton:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39;This is a reply, just like normal buttons!&#39;</span><span class="hl-1">, </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-4">&#39;id-like-buttons-message&#39;</span><span class="hl-1">}},</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">templateMessage</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&quot;Hi it&#39;s a template message&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">footer:</span><span class="hl-1"> </span><span class="hl-4">&#39;Hello World&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">templateButtons:</span><span class="hl-1"> </span><span class="hl-0">templateButtons</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sendMsg</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">, </span><span class="hl-0">templateMessage</span><span class="hl-1">)</span><br/><br/><span class="hl-8">// send a list message!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sections</span><span class="hl-1"> = [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">    </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&quot;Section 1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">rows:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&quot;Option 1&quot;</span><span class="hl-1">, </span><span class="hl-0">rowId:</span><span class="hl-1"> </span><span class="hl-4">&quot;option1&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">        {</span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&quot;Option 2&quot;</span><span class="hl-1">, </span><span class="hl-0">rowId:</span><span class="hl-1"> </span><span class="hl-4">&quot;option2&quot;</span><span class="hl-1">, </span><span class="hl-0">description:</span><span class="hl-1"> </span><span class="hl-4">&quot;This is a description&quot;</span><span class="hl-1">}</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">   {</span><br/><span class="hl-1">    </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&quot;Section 2&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">rows:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&quot;Option 3&quot;</span><span class="hl-1">, </span><span class="hl-0">rowId:</span><span class="hl-1"> </span><span class="hl-4">&quot;option3&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">        {</span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&quot;Option 4&quot;</span><span class="hl-1">, </span><span class="hl-0">rowId:</span><span class="hl-1"> </span><span class="hl-4">&quot;option4&quot;</span><span class="hl-1">, </span><span class="hl-0">description:</span><span class="hl-1"> </span><span class="hl-4">&quot;This is a description V2&quot;</span><span class="hl-1">}</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">listMessage</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&quot;This is a list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">footer:</span><span class="hl-1"> </span><span class="hl-4">&quot;nice footer, link: https://google.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">title:</span><span class="hl-1"> </span><span class="hl-4">&quot;Amazing boldfaced list title&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">buttonText:</span><span class="hl-1"> </span><span class="hl-4">&quot;Required, text on the button to view the list&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">sections</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sendMsg</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">, </span><span class="hl-0">listMessage</span><span class="hl-1">)</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">reactionMessage</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">react:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&quot;&quot;</span><span class="hl-1">, </span><span class="hl-8">// use an empty string to remove the reaction</span><br/><span class="hl-1">        </span><span class="hl-0">key:</span><span class="hl-1"> </span><span class="hl-0">message</span><span class="hl-1">.</span><span class="hl-0">key</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sendMsg</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">, </span><span class="hl-0">reactionMessage</span><span class="hl-1">)</span>
</code></pre>

<a href="#sending-messages-with-link-previews" id="sending-messages-with-link-previews" style="color: inherit; text-decoration: none;">
  <h3>Sending messages with link previews</h3>
</a>
<ol>
<li>By default, WA MD does not have link generation when sent from the web</li>
<li>Baileys has a function to generate the content for these link previews</li>
<li>To enable this function&#39;s usage, add <code>link-preview-js</code> as a dependency to your project with <code>yarn add link-preview-js</code></li>
<li>Send a link:<pre><code class="language-ts"><span class="hl-8">// send a link</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sentMsg</span><span class="hl-1">  = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">, { </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;Hi, this was sent using https://github.com/adiwajshing/baileys&#39;</span><span class="hl-1"> })</span>
</code></pre>
</li>
</ol>

<a href="#media-messages" id="media-messages" style="color: inherit; text-decoration: none;">
  <h3>Media Messages</h3>
</a>
<p>Sending media (video, stickers, images) is easier &amp; more efficient than ever. </p>
<ul>
<li>You can specify a buffer, a local url or even a remote url.</li>
<li>When specifying a media url, Baileys never loads the entire buffer into memory; it even encrypts the media as a readable stream.</li>
</ul>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">MessageType</span><span class="hl-1">, </span><span class="hl-0">MessageOptions</span><span class="hl-1">, </span><span class="hl-0">Mimetype</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@whiskeysockets/baileys&#39;</span><br/><span class="hl-8">// Sending gifs</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">id</span><span class="hl-1">, </span><br/><span class="hl-1">    { </span><br/><span class="hl-1">        </span><span class="hl-0">video:</span><span class="hl-1"> </span><span class="hl-0">fs</span><span class="hl-1">.</span><span class="hl-6">readFileSync</span><span class="hl-1">(</span><span class="hl-4">&quot;Media/ma_gif.mp4&quot;</span><span class="hl-1">), </span><br/><span class="hl-1">        </span><span class="hl-0">caption:</span><span class="hl-1"> </span><span class="hl-4">&quot;hello!&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">gifPlayback:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">id</span><span class="hl-1">, </span><br/><span class="hl-1">    { </span><br/><span class="hl-1">        </span><span class="hl-0">video:</span><span class="hl-1"> </span><span class="hl-4">&quot;./Media/ma_gif.mp4&quot;</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-0">caption:</span><span class="hl-1"> </span><span class="hl-4">&quot;hello!&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">gifPlayback:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-8">// send an audio file</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">id</span><span class="hl-1">, </span><br/><span class="hl-1">    { </span><span class="hl-0">audio:</span><span class="hl-1"> { </span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-4">&quot;./Media/audio.mp3&quot;</span><span class="hl-1"> }, </span><span class="hl-0">mimetype:</span><span class="hl-1"> </span><span class="hl-4">&#39;audio/mp4&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">    { </span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-4">&quot;Media/audio.mp3&quot;</span><span class="hl-1"> }, </span><span class="hl-8">// can send mp3, mp4, &amp; ogg</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-8">// send a buttons message with image header!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">buttons</span><span class="hl-1"> = [</span><br/><span class="hl-1">  {</span><span class="hl-0">buttonId:</span><span class="hl-1"> </span><span class="hl-4">&#39;id1&#39;</span><span class="hl-1">, </span><span class="hl-0">buttonText:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39;Button 1&#39;</span><span class="hl-1">}, </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1">},</span><br/><span class="hl-1">  {</span><span class="hl-0">buttonId:</span><span class="hl-1"> </span><span class="hl-4">&#39;id2&#39;</span><span class="hl-1">, </span><span class="hl-0">buttonText:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39;Button 2&#39;</span><span class="hl-1">}, </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1">},</span><br/><span class="hl-1">  {</span><span class="hl-0">buttonId:</span><span class="hl-1"> </span><span class="hl-4">&#39;id3&#39;</span><span class="hl-1">, </span><span class="hl-0">buttonText:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39;Button 3&#39;</span><span class="hl-1">}, </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1">}</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">buttonMessage</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">image:</span><span class="hl-1"> {</span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-4">&#39;https://example.com/image.jpeg&#39;</span><span class="hl-1">},</span><br/><span class="hl-1">    </span><span class="hl-0">caption:</span><span class="hl-1"> </span><span class="hl-4">&quot;Hi it&#39;s button message&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">footer:</span><span class="hl-1"> </span><span class="hl-4">&#39;Hello World&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">buttons:</span><span class="hl-1"> </span><span class="hl-0">buttons</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">headerType:</span><span class="hl-1"> </span><span class="hl-10">4</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sendMsg</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">, </span><span class="hl-0">buttonMessage</span><span class="hl-1">)</span><br/><br/><span class="hl-8">//send a template message with an image **attached**!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">templateButtons</span><span class="hl-1"> = [</span><br/><span class="hl-1">  {</span><span class="hl-0">index:</span><span class="hl-1"> </span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-0">urlButton:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39; Star Baileys on GitHub!&#39;</span><span class="hl-1">, </span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-4">&#39;https://github.com/adiwajshing/Baileys&#39;</span><span class="hl-1">}},</span><br/><span class="hl-1">  {</span><span class="hl-0">index:</span><span class="hl-1"> </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-0">callButton:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39;Call me!&#39;</span><span class="hl-1">, </span><span class="hl-0">phoneNumber:</span><span class="hl-1"> </span><span class="hl-4">&#39;+1 (234) 5678-901&#39;</span><span class="hl-1">}},</span><br/><span class="hl-1">  {</span><span class="hl-0">index:</span><span class="hl-1"> </span><span class="hl-10">3</span><span class="hl-1">, </span><span class="hl-0">quickReplyButton:</span><span class="hl-1"> {</span><span class="hl-0">displayText:</span><span class="hl-1"> </span><span class="hl-4">&#39;This is a reply, just like normal buttons!&#39;</span><span class="hl-1">, </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-4">&#39;id-like-buttons-message&#39;</span><span class="hl-1">}},</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">buttonMessage</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&quot;Hi it&#39;s a template message&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">footer:</span><span class="hl-1"> </span><span class="hl-4">&#39;Hello World&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">templateButtons:</span><span class="hl-1"> </span><span class="hl-0">templateButtons</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">image:</span><span class="hl-1"> {</span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-4">&#39;https://example.com/image.jpeg&#39;</span><span class="hl-1">}</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sendMsg</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">, </span><span class="hl-0">templateMessage</span><span class="hl-1">)</span>
</code></pre>

<a href="#notes" id="notes" style="color: inherit; text-decoration: none;">
  <h3>Notes</h3>
</a>
<ul>
<li><code>id</code> is the WhatsApp ID of the person or group you&#39;re sending the message to. <ul>
<li>It must be in the format <code>[country code][phone number]@s.whatsapp.net</code><ul>
<li>Example for people: <code>+19999999999@s.whatsapp.net</code>. </li>
<li>For groups, it must be in the format <code>123456789-123345@g.us</code>.</li>
</ul>
</li>
<li>For broadcast lists, it&#39;s <code>[timestamp of creation]@broadcast</code>.</li>
<li>For stories, the ID is <code>status@broadcast</code>.</li>
</ul>
</li>
<li>For media messages, the thumbnail can be generated automatically for images &amp; stickers provided you add <code>jimp</code> or <code>sharp</code> as a dependency in your project using <code>yarn add jimp</code> or <code>yarn add sharp</code>. Thumbnails for videos can also be generated automatically, though, you need to have <code>ffmpeg</code> installed on your system.</li>
<li><strong>MiscGenerationOptions</strong>: some extra info about the message. It can have the following <strong>optional</strong> values:<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">info</span><span class="hl-1">: </span><span class="hl-9">MessageOptions</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">quoted:</span><span class="hl-1"> </span><span class="hl-0">quotedMessage</span><span class="hl-1">, </span><span class="hl-8">// the message you want to quote</span><br/><span class="hl-1">    </span><span class="hl-0">contextInfo:</span><span class="hl-1"> { </span><span class="hl-0">forwardingScore:</span><span class="hl-1"> </span><span class="hl-10">2</span><span class="hl-1">, </span><span class="hl-0">isForwarded:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> }, </span><span class="hl-8">// some random context info (can show a forwarded message with this too)</span><br/><span class="hl-1">    </span><span class="hl-0">timestamp:</span><span class="hl-1"> </span><span class="hl-9">Date</span><span class="hl-1">(), </span><span class="hl-8">// optional, if you want to manually set the timestamp of the message</span><br/><span class="hl-1">    </span><span class="hl-0">caption:</span><span class="hl-1"> </span><span class="hl-4">&quot;hello there!&quot;</span><span class="hl-1">, </span><span class="hl-8">// (for media messages) the caption to send with the media (cannot be sent with stickers though)</span><br/><span class="hl-1">    </span><span class="hl-0">jpegThumbnail:</span><span class="hl-1"> </span><span class="hl-4">&quot;23GD#4/==&quot;</span><span class="hl-1">, </span><span class="hl-8">/*  (for location &amp; media messages) has to be a base 64 encoded JPEG if you want to send a custom thumb, </span><br/><span class="hl-8">                                or set to null if you don&#39;t want to send a thumbnail.</span><br/><span class="hl-8">                                Do not enter this field if you want to automatically generate a thumb</span><br/><span class="hl-8">                            */</span><br/><span class="hl-1">    </span><span class="hl-0">mimetype:</span><span class="hl-1"> </span><span class="hl-0">Mimetype</span><span class="hl-1">.</span><span class="hl-0">pdf</span><span class="hl-1">, </span><span class="hl-8">/* (for media messages) specify the type of media (optional for all media types except documents),</span><br/><span class="hl-8">                                import {Mimetype} from &#39;@whiskeysockets/baileys&#39;</span><br/><span class="hl-8">                            */</span><br/><span class="hl-1">    </span><span class="hl-0">fileName:</span><span class="hl-1"> </span><span class="hl-4">&#39;somefile.pdf&#39;</span><span class="hl-1">, </span><span class="hl-8">// (for media messages) file name for the media</span><br/><span class="hl-1">    </span><span class="hl-8">/* will send audio messages as voice notes, if set to true */</span><br/><span class="hl-1">    </span><span class="hl-0">ptt:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-8">/** Should it send as a disappearing messages. </span><br/><span class="hl-8">     * By default &#39;chat&#39; -- which follows the setting of the chat */</span><br/><span class="hl-1">    </span><span class="hl-0">ephemeralExpiration:</span><span class="hl-1"> </span><span class="hl-7">WA_DEFAULT_EPHEMERAL</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#forwarding-messages" id="forwarding-messages" style="color: inherit; text-decoration: none;">
  <h2>Forwarding Messages</h2>
</a>
</li>
</ul>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">msg</span><span class="hl-1"> = </span><span class="hl-6">getMessageFromStore</span><span class="hl-1">(</span><span class="hl-4">&#39;455@s.whatsapp.net&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;HSJHJWH7323HSJSJ&#39;</span><span class="hl-1">) </span><span class="hl-8">// implement this on your end</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-4">&#39;1234@s.whatsapp.net&#39;</span><span class="hl-1">, { </span><span class="hl-0">forward:</span><span class="hl-1"> </span><span class="hl-0">msg</span><span class="hl-1"> }) </span><span class="hl-8">// WA forward the message!</span>
</code></pre>

<a href="#reading-messages" id="reading-messages" style="color: inherit; text-decoration: none;">
  <h2>Reading Messages</h2>
</a>
<p>A set of message keys must be explicitly marked read now. 
In multi-device, you cannot mark an entire &quot;chat&quot; read as it were with Baileys Web.
This means you have to keep track of unread messages.</p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">key</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-0">remoteJid:</span><span class="hl-1"> </span><span class="hl-4">&#39;1234-123@g.us&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-4">&#39;AHASHH123123AHGA&#39;</span><span class="hl-1">, </span><span class="hl-8">// id of the message you want to read</span><br/><span class="hl-1">    </span><span class="hl-0">participant:</span><span class="hl-1"> </span><span class="hl-4">&#39;912121232@s.whatsapp.net&#39;</span><span class="hl-1"> </span><span class="hl-8">// the ID of the user that sent the  message (undefined for individual chats)</span><br/><span class="hl-1">}</span><br/><span class="hl-8">// pass to readMessages function</span><br/><span class="hl-8">// can pass multiple keys to read multiple messages as well</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">readMessages</span><span class="hl-1">([</span><span class="hl-0">key</span><span class="hl-1">])</span>
</code></pre>
<p>The message ID is the unique identifier of the message that you are marking as read. 
On a <code>WAMessage</code>, the <code>messageID</code> can be accessed using <code>messageID = message.key.id</code>.</p>

<a href="#update-presence" id="update-presence" style="color: inherit; text-decoration: none;">
  <h2>Update Presence</h2>
</a>
<pre><code class="language-ts"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendPresenceUpdate</span><span class="hl-1">(</span><span class="hl-4">&#39;available&#39;</span><span class="hl-1">, </span><span class="hl-0">id</span><span class="hl-1">) </span><br/>
</code></pre>
<p>This lets the person/group with <code>id</code> know whether you&#39;re online, offline, typing etc. </p>
<p><code>presence</code> can be one of the following:</p>
<pre><code class="language-ts"><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-9">WAPresence</span><span class="hl-1"> = </span><span class="hl-4">&#39;unavailable&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;available&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;composing&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;recording&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;paused&#39;</span>
</code></pre>
<p>The presence expires after about 10 seconds.</p>
<p><strong>Note:</strong> In the multi-device version of WhatsApp -- if a desktop client is active, WA doesn&#39;t send push notifications to the device. If you would like to receive said notifications -- mark your Baileys client offline using <code>sock.sendPresenceUpdate(&#39;unavailable&#39;)</code></p>

<a href="#downloading-media-messages" id="downloading-media-messages" style="color: inherit; text-decoration: none;">
  <h2>Downloading Media Messages</h2>
</a>
<p>If you want to save the media you received</p>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">writeFile</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;fs/promises&#39;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">downloadMediaMessage</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@whiskeysockets/baileys&#39;</span><br/><br/><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ev</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1">(</span><span class="hl-4">&#39;messages.upsert&#39;</span><span class="hl-1">, </span><span class="hl-5">async</span><span class="hl-1"> ({ </span><span class="hl-0">messages</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">m</span><span class="hl-1"> = </span><span class="hl-0">messages</span><span class="hl-1">[</span><span class="hl-10">0</span><span class="hl-1">]</span><br/><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (!</span><span class="hl-0">m</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1">) </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-8">// if there is no text or media message</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">messageType</span><span class="hl-1"> = </span><span class="hl-9">Object</span><span class="hl-1">.</span><span class="hl-6">keys</span><span class="hl-1"> (</span><span class="hl-0">m</span><span class="hl-1">.</span><span class="hl-0">message</span><span class="hl-1">)[</span><span class="hl-10">0</span><span class="hl-1">]</span><span class="hl-8">// get what type of message it is -- text, image, video</span><br/><span class="hl-1">    </span><span class="hl-8">// if the message is an image</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-0">messageType</span><span class="hl-1"> === </span><span class="hl-4">&#39;imageMessage&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-8">// download the message</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">buffer</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">downloadMediaMessage</span><span class="hl-1">(</span><br/><span class="hl-1">            </span><span class="hl-0">m</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">&#39;buffer&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            { },</span><br/><span class="hl-1">            { </span><br/><span class="hl-1">                </span><span class="hl-0">logger</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-8">// pass this so that baileys can request a reupload of media</span><br/><span class="hl-1">                </span><span class="hl-8">// that has been deleted</span><br/><span class="hl-1">                </span><span class="hl-0">reuploadRequest:</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">updateMediaMessage</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        )</span><br/><span class="hl-1">        </span><span class="hl-8">// save to file</span><br/><span class="hl-1">        </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">writeFile</span><span class="hl-1">(</span><span class="hl-4">&#39;./my-download.jpeg&#39;</span><span class="hl-1">, </span><span class="hl-0">buffer</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code></pre>
<p><strong>Note:</strong> WhatsApp automatically removes old media from their servers. For the device to access said media -- a re-upload is required by another device that has it. This can be accomplished using: </p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">updatedMediaMsg</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateMediaMessage</span><span class="hl-1">(</span><span class="hl-0">msg</span><span class="hl-1">)</span>
</code></pre>

<a href="#deleting-messages" id="deleting-messages" style="color: inherit; text-decoration: none;">
  <h2>Deleting Messages</h2>
</a>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">jid</span><span class="hl-1"> = </span><span class="hl-4">&#39;1234@s.whatsapp.net&#39;</span><span class="hl-1"> </span><span class="hl-8">// can also be a group</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">jid</span><span class="hl-1">, { </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;hello!&#39;</span><span class="hl-1"> }) </span><span class="hl-8">// send a message</span><br/><span class="hl-8">// sends a message to delete the given message</span><br/><span class="hl-8">// this deletes the message for everyone</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">jid</span><span class="hl-1">, { </span><span class="hl-0">delete:</span><span class="hl-1"> </span><span class="hl-0">response</span><span class="hl-1">.</span><span class="hl-0">key</span><span class="hl-1"> })</span>
</code></pre>
<p><strong>Note:</strong> deleting for oneself is supported via <code>chatModify</code> (next section)</p>

<a href="#modifying-chats" id="modifying-chats" style="color: inherit; text-decoration: none;">
  <h2>Modifying Chats</h2>
</a>
<p>WA uses an encrypted form of communication to send chat/app updates. This has been implemented mostly and you can send the following updates:</p>
<ul>
<li><p>Archive a chat</p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">lastMsgInChat</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">getLastMessageInChat</span><span class="hl-1">(</span><span class="hl-4">&#39;123456@s.whatsapp.net&#39;</span><span class="hl-1">) </span><span class="hl-8">// implement this on your end</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">chatModify</span><span class="hl-1">({ </span><span class="hl-0">archive:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">, </span><span class="hl-0">lastMessages:</span><span class="hl-1"> [</span><span class="hl-0">lastMsgInChat</span><span class="hl-1">] }, </span><span class="hl-4">&#39;123456@s.whatsapp.net&#39;</span><span class="hl-1">)</span>
</code></pre>
</li>
<li><p>Mute/unmute a chat</p>
<pre><code class="language-ts"><span class="hl-8">// mute for 8 hours</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">chatModify</span><span class="hl-1">({ </span><span class="hl-0">mute:</span><span class="hl-1"> </span><span class="hl-10">8</span><span class="hl-1">*</span><span class="hl-10">60</span><span class="hl-1">*</span><span class="hl-10">60</span><span class="hl-1">*</span><span class="hl-10">1000</span><span class="hl-1"> }, </span><span class="hl-4">&#39;123456@s.whatsapp.net&#39;</span><span class="hl-1">, [])</span><br/><span class="hl-8">// unmute</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">chatModify</span><span class="hl-1">({ </span><span class="hl-0">mute:</span><span class="hl-1"> </span><span class="hl-5">null</span><span class="hl-1"> }, </span><span class="hl-4">&#39;123456@s.whatsapp.net&#39;</span><span class="hl-1">, [])</span>
</code></pre>
</li>
<li><p>Mark a chat read/unread</p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">lastMsgInChat</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">getLastMessageInChat</span><span class="hl-1">(</span><span class="hl-4">&#39;123456@s.whatsapp.net&#39;</span><span class="hl-1">) </span><span class="hl-8">// implement this on your end</span><br/><span class="hl-8">// mark it unread</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">chatModify</span><span class="hl-1">({ </span><span class="hl-0">markRead:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">, </span><span class="hl-0">lastMessages:</span><span class="hl-1"> [</span><span class="hl-0">lastMsgInChat</span><span class="hl-1">] }, </span><span class="hl-4">&#39;123456@s.whatsapp.net&#39;</span><span class="hl-1">)</span>
</code></pre>
</li>
<li><p>Delete a message for me</p>
<pre><code class="language-ts"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">chatModify</span><span class="hl-1">(</span><br/><span class="hl-1">  { </span><span class="hl-0">clear:</span><span class="hl-1"> { </span><span class="hl-0">messages:</span><span class="hl-1"> [{ </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-4">&#39;ATWYHDNNWU81732J&#39;</span><span class="hl-1">, </span><span class="hl-0">fromMe:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">, </span><span class="hl-0">timestamp:</span><span class="hl-1"> </span><span class="hl-4">&quot;1654823909&quot;</span><span class="hl-1"> }] } }, </span><br/><span class="hl-1">  </span><span class="hl-4">&#39;123456@s.whatsapp.net&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">  []</span><br/><span class="hl-1">  )</span><br/>
</code></pre>
</li>
<li><p>Delete a chat</p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">lastMsgInChat</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">getLastMessageInChat</span><span class="hl-1">(</span><span class="hl-4">&#39;123456@s.whatsapp.net&#39;</span><span class="hl-1">) </span><span class="hl-8">// implement this on your end</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">chatModify</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">delete:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">lastMessages:</span><span class="hl-1"> [{ </span><span class="hl-0">key:</span><span class="hl-1"> </span><span class="hl-0">lastMsgInChat</span><span class="hl-1">.</span><span class="hl-0">key</span><span class="hl-1">, </span><span class="hl-0">messageTimestamp:</span><span class="hl-1"> </span><span class="hl-0">lastMsgInChat</span><span class="hl-1">.</span><span class="hl-0">messageTimestamp</span><span class="hl-1"> }]</span><br/><span class="hl-1">},</span><br/><span class="hl-4">&#39;123456@s.whatsapp.net&#39;</span><span class="hl-1">)</span>
</code></pre>
</li>
<li><p>Pin/unpin a chat</p>
<pre><code class="language-ts"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">chatModify</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">pin:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> </span><span class="hl-8">// or `false` to unpin</span><br/><span class="hl-1">},</span><br/><span class="hl-4">&#39;123456@s.whatsapp.net&#39;</span><span class="hl-1">)</span>
</code></pre>
</li>
</ul>
<p><strong>Note:</strong> if you mess up one of your updates, WA can log you out of all your devices and you&#39;ll have to log in again.</p>

<a href="#disappearing-messages" id="disappearing-messages" style="color: inherit; text-decoration: none;">
  <h2>Disappearing Messages</h2>
</a>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">jid</span><span class="hl-1"> = </span><span class="hl-4">&#39;1234@s.whatsapp.net&#39;</span><span class="hl-1"> </span><span class="hl-8">// can also be a group</span><br/><span class="hl-8">// turn on disappearing messages</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">jid</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-8">// this is 1 week in seconds -- how long you want messages to appear for</span><br/><span class="hl-1">    { </span><span class="hl-0">disappearingMessagesInChat:</span><span class="hl-1"> </span><span class="hl-7">WA_DEFAULT_EPHEMERAL</span><span class="hl-1"> }</span><br/><span class="hl-1">)</span><br/><span class="hl-8">// will send as a disappearing message</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">jid</span><span class="hl-1">, { </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;hello&#39;</span><span class="hl-1"> }, { </span><span class="hl-0">ephemeralExpiration:</span><span class="hl-1"> </span><span class="hl-7">WA_DEFAULT_EPHEMERAL</span><span class="hl-1"> })</span><br/><span class="hl-8">// turn off disappearing messages</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">jid</span><span class="hl-1">, </span><br/><span class="hl-1">    { </span><span class="hl-0">disappearingMessagesInChat:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1"> }</span><br/><span class="hl-1">)</span><br/>
</code></pre>

<a href="#misc" id="misc" style="color: inherit; text-decoration: none;">
  <h2>Misc</h2>
</a>
<ul>
<li>To check if a given ID is on WhatsApp<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">id</span><span class="hl-1"> = </span><span class="hl-4">&#39;123456&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> [</span><span class="hl-7">result</span><span class="hl-1">] = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">onWhatsApp</span><span class="hl-1">(</span><span class="hl-0">id</span><span class="hl-1">)</span><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-0">result</span><span class="hl-1">.</span><span class="hl-0">exists</span><span class="hl-1">) </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1"> (</span><span class="hl-4">`</span><span class="hl-5">${</span><span class="hl-0">id</span><span class="hl-5">}</span><span class="hl-4"> exists on WhatsApp, as jid: </span><span class="hl-5">${</span><span class="hl-0">result</span><span class="hl-12">.</span><span class="hl-0">jid</span><span class="hl-5">}</span><span class="hl-4">`</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To query chat history on a group or with someone
  TODO, if possible</li>
<li>To get the status of some person<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">status</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">fetchStatus</span><span class="hl-1">(</span><span class="hl-4">&quot;xyz@s.whatsapp.net&quot;</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&quot;status: &quot;</span><span class="hl-1"> + </span><span class="hl-0">status</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To change your profile status<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">status</span><span class="hl-1"> = </span><span class="hl-4">&#39;Hello World!&#39;</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateProfileStatus</span><span class="hl-1">(</span><span class="hl-0">status</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To change your profile name<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">name</span><span class="hl-1"> = </span><span class="hl-4">&#39;My name&#39;</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateProfileName</span><span class="hl-1">(</span><span class="hl-0">name</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To get the display picture of some person/group<pre><code class="language-ts"><span class="hl-8">// for low res picture</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">ppUrl</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">profilePictureUrl</span><span class="hl-1">(</span><span class="hl-4">&quot;xyz@g.us&quot;</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&quot;download profile picture from: &quot;</span><span class="hl-1"> + </span><span class="hl-0">ppUrl</span><span class="hl-1">)</span><br/><span class="hl-8">// for high res picture</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">ppUrl</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">profilePictureUrl</span><span class="hl-1">(</span><span class="hl-4">&quot;xyz@g.us&quot;</span><span class="hl-1">, </span><span class="hl-4">&#39;image&#39;</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To change your display picture or a group&#39;s<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">jid</span><span class="hl-1"> = </span><span class="hl-4">&#39;111234567890-1594482450@g.us&#39;</span><span class="hl-1"> </span><span class="hl-8">// can be your own too</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateProfilePicture</span><span class="hl-1">(</span><span class="hl-0">jid</span><span class="hl-1">, { </span><span class="hl-0">url:</span><span class="hl-1"> </span><span class="hl-4">&#39;./new-profile-picture.jpeg&#39;</span><span class="hl-1"> })</span>
</code></pre>
</li>
<li>To remove your display picture or a group&#39;s<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">jid</span><span class="hl-1"> = </span><span class="hl-4">&#39;111234567890-1594482450@g.us&#39;</span><span class="hl-1"> </span><span class="hl-8">// can be your own too</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">removeProfilePicture</span><span class="hl-1">(</span><span class="hl-0">jid</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To get someone&#39;s presence (if they&#39;re typing or online)<pre><code class="language-ts"><span class="hl-8">// the presence update is fetched and called here</span><br/><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ev</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1">(</span><span class="hl-4">&#39;presence-update&#39;</span><span class="hl-1">, </span><span class="hl-0">json</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">json</span><span class="hl-1">))</span><br/><span class="hl-8">// request updates for a chat</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">presenceSubscribe</span><span class="hl-1">(</span><span class="hl-4">&quot;xyz@s.whatsapp.net&quot;</span><span class="hl-1">) </span>
</code></pre>
</li>
<li>To block or unblock user<pre><code class="language-ts"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateBlockStatus</span><span class="hl-1">(</span><span class="hl-4">&quot;xyz@s.whatsapp.net&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;block&quot;</span><span class="hl-1">) </span><span class="hl-8">// Block user</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateBlockStatus</span><span class="hl-1">(</span><span class="hl-4">&quot;xyz@s.whatsapp.net&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;unblock&quot;</span><span class="hl-1">) </span><span class="hl-8">// Unblock user</span>
</code></pre>
</li>
<li>To get a business profile, such as description or category<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">profile</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">getBusinessProfile</span><span class="hl-1">(</span><span class="hl-4">&quot;xyz@s.whatsapp.net&quot;</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&quot;business description: &quot;</span><span class="hl-1"> + </span><span class="hl-0">profile</span><span class="hl-1">.</span><span class="hl-0">description</span><span class="hl-1"> + </span><span class="hl-4">&quot;, category: &quot;</span><span class="hl-1"> + </span><span class="hl-0">profile</span><span class="hl-1">.</span><span class="hl-0">category</span><span class="hl-1">)</span>
</code></pre>
Of course, replace <code>xyz</code> with an actual ID.</li>
</ul>

<a href="#groups" id="groups" style="color: inherit; text-decoration: none;">
  <h2>Groups</h2>
</a>
<ul>
<li>To create a group<pre><code class="language-ts"><span class="hl-8">// title &amp; participants</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">group</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupCreate</span><span class="hl-1">(</span><span class="hl-4">&quot;My Fab Group&quot;</span><span class="hl-1">, [</span><span class="hl-4">&quot;1234@s.whatsapp.net&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;4564@s.whatsapp.net&quot;</span><span class="hl-1">])</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1"> (</span><span class="hl-4">&quot;created group with id: &quot;</span><span class="hl-1"> + </span><span class="hl-0">group</span><span class="hl-1">.</span><span class="hl-0">gid</span><span class="hl-1">)</span><br/><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">sendMessage</span><span class="hl-1">(</span><span class="hl-0">group</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1">, { </span><span class="hl-0">text:</span><span class="hl-1"> </span><span class="hl-4">&#39;hello there&#39;</span><span class="hl-1"> }) </span><span class="hl-8">// say hello to everyone on the group</span>
</code></pre>
</li>
<li>To add/remove people to a group or demote/promote people<pre><code class="language-ts"><span class="hl-8">// id &amp; people to add to the group (will throw error if it fails)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupParticipantsUpdate</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">, </span><br/><span class="hl-1">    [</span><span class="hl-4">&quot;abcd@s.whatsapp.net&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;efgh@s.whatsapp.net&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">&quot;add&quot;</span><span class="hl-1"> </span><span class="hl-8">// replace this parameter with &quot;remove&quot;, &quot;demote&quot; or &quot;promote&quot;</span><br/><span class="hl-1">)</span>
</code></pre>
</li>
<li>To change the group&#39;s subject<pre><code class="language-ts"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupUpdateSubject</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;New Subject!&quot;</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To change the group&#39;s description<pre><code class="language-ts"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupUpdateDescription</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;New Description!&quot;</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To change group settings<pre><code class="language-ts"><span class="hl-8">// only allow admins to send messages</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupSettingUpdate</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">, </span><span class="hl-4">&#39;announcement&#39;</span><span class="hl-1">)</span><br/><span class="hl-8">// allow everyone to send messages</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupSettingUpdate</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">, </span><span class="hl-4">&#39;not_announcement&#39;</span><span class="hl-1">)</span><br/><span class="hl-8">// allow everyone to modify the group&#39;s settings -- like display picture etc.</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupSettingUpdate</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">, </span><span class="hl-4">&#39;unlocked&#39;</span><span class="hl-1">)</span><br/><span class="hl-8">// only allow admins to modify the group&#39;s settings</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupSettingUpdate</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">, </span><span class="hl-4">&#39;locked&#39;</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To leave a group<pre><code class="language-ts"><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupLeave</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">) </span><span class="hl-8">// (will throw error if it fails)</span>
</code></pre>
</li>
<li>To get the invite code for a group<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">code</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupInviteCode</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&quot;group code: &quot;</span><span class="hl-1"> + </span><span class="hl-0">code</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To revoke the invite code in a group<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">code</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupRevokeInvite</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&quot;New group code: &quot;</span><span class="hl-1"> + </span><span class="hl-0">code</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To query the metadata of a group<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">metadata</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupMetadata</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd-xyz@g.us&quot;</span><span class="hl-1">) </span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">metadata</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> + </span><span class="hl-4">&quot;, title: &quot;</span><span class="hl-1"> + </span><span class="hl-0">metadata</span><span class="hl-1">.</span><span class="hl-0">subject</span><span class="hl-1"> + </span><span class="hl-4">&quot;, description: &quot;</span><span class="hl-1"> + </span><span class="hl-0">metadata</span><span class="hl-1">.</span><span class="hl-0">desc</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To join the group using the invitation code<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupAcceptInvite</span><span class="hl-1">(</span><span class="hl-4">&quot;xxx&quot;</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&quot;joined to: &quot;</span><span class="hl-1"> + </span><span class="hl-0">response</span><span class="hl-1">)</span>
</code></pre>
  Of course, replace <code>xxx</code> with invitation code.</li>
<li>To get group info by invite code<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupGetInviteInfo</span><span class="hl-1">(</span><span class="hl-4">&quot;xxx&quot;</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&quot;group information: &quot;</span><span class="hl-1"> + </span><span class="hl-0">response</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To join the group using groupInviteMessage<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">groupAcceptInviteV4</span><span class="hl-1">(</span><span class="hl-4">&quot;abcd@s.whatsapp.net&quot;</span><span class="hl-1">, </span><span class="hl-0">groupInviteMessage</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&quot;joined to: &quot;</span><span class="hl-1"> + </span><span class="hl-0">response</span><span class="hl-1">)</span>
</code></pre>
Of course, replace <code>xxx</code> with invitation code.</li>
</ul>

<a href="#privacy" id="privacy" style="color: inherit; text-decoration: none;">
  <h2>Privacy</h2>
</a>
<ul>
<li>To get the privacy settings<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">privacySettings</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">fetchPrivacySettings</span><span class="hl-1">(</span><span class="hl-5">true</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&quot;privacy settings: &quot;</span><span class="hl-1"> + </span><span class="hl-0">privacySettings</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To update the LastSeen privacy<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">value</span><span class="hl-1"> = </span><span class="hl-4">&#39;all&#39;</span><span class="hl-1"> </span><span class="hl-8">// &#39;contacts&#39; | &#39;contact_blacklist&#39; | &#39;none&#39;</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateLastSeenPrivacy</span><span class="hl-1">(</span><span class="hl-0">value</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To update the Online privacy<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">value</span><span class="hl-1"> = </span><span class="hl-4">&#39;all&#39;</span><span class="hl-1"> </span><span class="hl-8">// &#39;match_last_seen&#39;</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateOnlinePrivacy</span><span class="hl-1">(</span><span class="hl-0">value</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To update the Profile Picture privacy<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">value</span><span class="hl-1"> = </span><span class="hl-4">&#39;all&#39;</span><span class="hl-1"> </span><span class="hl-8">// &#39;contacts&#39; | &#39;contact_blacklist&#39; | &#39;none&#39;</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateProfilePicturePrivacy</span><span class="hl-1">(</span><span class="hl-0">value</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To update the Status privacy<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">value</span><span class="hl-1"> = </span><span class="hl-4">&#39;all&#39;</span><span class="hl-1"> </span><span class="hl-8">// &#39;contacts&#39; | &#39;contact_blacklist&#39; | &#39;none&#39;</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateStatusPrivacy</span><span class="hl-1">(</span><span class="hl-0">value</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To update the Read Receipts privacy<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">value</span><span class="hl-1"> = </span><span class="hl-4">&#39;all&#39;</span><span class="hl-1"> </span><span class="hl-8">// &#39;none&#39;</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateReadReceiptsPrivacy</span><span class="hl-1">(</span><span class="hl-0">value</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To update the Groups Add privacy<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">value</span><span class="hl-1"> = </span><span class="hl-4">&#39;all&#39;</span><span class="hl-1"> </span><span class="hl-8">// &#39;contacts&#39; | &#39;contact_blacklist&#39; | &#39;none&#39;</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateGroupsAddPrivacy</span><span class="hl-1">(</span><span class="hl-0">value</span><span class="hl-1">)</span>
</code></pre>
</li>
<li>To update the Default Disappearing Mode<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">duration</span><span class="hl-1"> = </span><span class="hl-10">86400</span><span class="hl-1"> </span><span class="hl-8">// 604800 | 7776000 | 0 </span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">updateDefaultDisappearingMode</span><span class="hl-1">(</span><span class="hl-0">duration</span><span class="hl-1">)</span>
</code></pre>

<a href="#broadcast-lists-amp-stories" id="broadcast-lists-amp-stories" style="color: inherit; text-decoration: none;">
  <h2>Broadcast Lists &amp; Stories</h2>
</a>
</li>
</ul>
<p><strong>Note:</strong> messages currently cannot be sent to broadcast lists from the MD version.</p>
<ul>
<li>You can send messages to broadcast lists the same way you send messages to groups &amp; individual chats.</li>
<li>Right now, WA Web does not support creating broadcast lists, but you can still delete them.</li>
<li>Broadcast IDs are in the format <code>12345678@broadcast</code></li>
<li>To query a broadcast list&#39;s recipients &amp; name:<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">bList</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-6">getBroadcastListInfo</span><span class="hl-1">(</span><span class="hl-4">&quot;1234@broadcast&quot;</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1"> (</span><span class="hl-4">`list name: </span><span class="hl-5">${</span><span class="hl-0">bList</span><span class="hl-12">.</span><span class="hl-0">name</span><span class="hl-5">}</span><span class="hl-4">, recps: </span><span class="hl-5">${</span><span class="hl-0">bList</span><span class="hl-12">.</span><span class="hl-0">recipients</span><span class="hl-5">}</span><span class="hl-4">`</span><span class="hl-1">)</span>
</code></pre>
</li>
</ul>

<a href="#writing-custom-functionality" id="writing-custom-functionality" style="color: inherit; text-decoration: none;">
  <h2>Writing Custom Functionality</h2>
</a>
<p>Baileys is written with custom functionality in mind. Instead of forking the project &amp; re-writing the internals, you can simply write your own extensions.</p>
<p>First, enable the logging of unhandled messages from WhatsApp by setting:</p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">sock</span><span class="hl-1"> = </span><span class="hl-6">makeWASocket</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">logger:</span><span class="hl-1"> </span><span class="hl-6">P</span><span class="hl-1">({ </span><span class="hl-0">level:</span><span class="hl-1"> </span><span class="hl-4">&#39;debug&#39;</span><span class="hl-1"> }),</span><br/><span class="hl-1">})</span>
</code></pre>
<p>This will enable you to see all sorts of messages WhatsApp sends in the console. </p>
<p>Some examples:</p>
<ol>
<li><p>Functionality to track the battery percentage of your phone.
 You enable logging and you&#39;ll see a message about your battery pop up in the console: 
 <code>{&quot;level&quot;:10,&quot;fromMe&quot;:false,&quot;frame&quot;:{&quot;tag&quot;:&quot;ib&quot;,&quot;attrs&quot;:{&quot;from&quot;:&quot;@s.whatsapp.net&quot;},&quot;content&quot;:[{&quot;tag&quot;:&quot;edge_routing&quot;,&quot;attrs&quot;:{},&quot;content&quot;:[{&quot;tag&quot;:&quot;routing_info&quot;,&quot;attrs&quot;:{},&quot;content&quot;:{&quot;type&quot;:&quot;Buffer&quot;,&quot;data&quot;:[8,2,8,5]}}]}]},&quot;msg&quot;:&quot;communication&quot;} </code> </p>
<p>The &quot;frame&quot; is what the message received is, it has three components:</p>
<ul>
<li><code>tag</code> -- what this frame is about (eg. message will have &quot;message&quot;)</li>
<li><code>attrs</code> -- a string key-value pair with some metadata (contains ID of the message usually)</li>
<li><code>content</code> -- the actual data (eg. a message node will have the actual message content in it)</li>
<li>read more about this format <a href="/src/WABinary/readme.md">here</a></li>
</ul>
<p> You can register a callback for an event using the following:</p>
<pre><code class="language-ts"><span class="hl-8">// for any message with tag &#39;edge_routing&#39;</span><br/><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ws</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1">(</span><span class="hl-4">`CB:edge_routing`</span><span class="hl-1">, (</span><span class="hl-0">node</span><span class="hl-1">: </span><span class="hl-9">BinaryNode</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> { })</span><br/><span class="hl-8">// for any message with tag &#39;edge_routing&#39; and id attribute = abcd</span><br/><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ws</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1">(</span><span class="hl-4">`CB:edge_routing,id:abcd`</span><span class="hl-1">, (</span><span class="hl-0">node</span><span class="hl-1">: </span><span class="hl-9">BinaryNode</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> { })</span><br/><span class="hl-8">// for any message with tag &#39;edge_routing&#39;, id attribute = abcd &amp; first content node routing_info</span><br/><span class="hl-0">sock</span><span class="hl-1">.</span><span class="hl-0">ws</span><span class="hl-1">.</span><span class="hl-6">on</span><span class="hl-1">(</span><span class="hl-4">`CB:edge_routing,id:abcd,routing_info`</span><span class="hl-1">, (</span><span class="hl-0">node</span><span class="hl-1">: </span><span class="hl-9">BinaryNode</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> { })</span>
</code></pre>
</li>
</ol>

<a href="#note" id="note" style="color: inherit; text-decoration: none;">
  <h3>Note</h3>
</a>
<p> This library was originally a project for <strong>CS-2362 at Ashoka University</strong> and is in no way affiliated with WhatsApp. Use at your own discretion. Do not spam people with this.</p>
<p> Also, this repo is now licenced under GPL 3 since it uses <a href="https://git.questbook.io/backend/service-coderunner/-/merge_requests/1">libsignal-node</a></p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="modules/proto.html">proto</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-reference"><a href="modules.html#WAMessageStatus" class="tsd-kind-icon">WAMessage<wbr/>Status</a></li><li class="tsd-kind-reference"><a href="modules.html#WAMessageStubType" class="tsd-kind-icon">WAMessage<wbr/>Stub<wbr/>Type</a></li><li class="tsd-kind-reference"><a href="modules.html#WAProto" class="tsd-kind-icon">WAProto</a></li><li class="tsd-kind-enum"><a href="enums/DisconnectReason.html" class="tsd-kind-icon">Disconnect<wbr/>Reason</a></li><li class="tsd-kind-interface"><a href="interfaces/BaileysEventEmitter.html" class="tsd-kind-icon">Baileys<wbr/>Event<wbr/>Emitter</a></li><li class="tsd-kind-interface"><a href="interfaces/Contact.html" class="tsd-kind-icon">Contact</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupMetadata.html" class="tsd-kind-icon">Group<wbr/>Metadata</a></li><li class="tsd-kind-interface"><a href="interfaces/GroupModificationResponse.html" class="tsd-kind-icon">Group<wbr/>Modification<wbr/>Response</a></li><li class="tsd-kind-interface"><a href="interfaces/PresenceData.html" class="tsd-kind-icon">Presence<wbr/>Data</a></li><li class="tsd-kind-interface"><a href="interfaces/WAGroupCreateResponse.html" class="tsd-kind-icon">WAGroup<wbr/>Create<wbr/>Response</a></li><li class="tsd-kind-interface"><a href="interfaces/WAUrlInfo.html" class="tsd-kind-icon">WAUrl<wbr/>Info</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AccountSettings" class="tsd-kind-icon">Account<wbr/>Settings</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AnyMediaMessageContent" class="tsd-kind-icon">Any<wbr/>Media<wbr/>Message<wbr/>Content</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AnyMessageContent" class="tsd-kind-icon">Any<wbr/>Message<wbr/>Content</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AnyRegularMessageContent" class="tsd-kind-icon">Any<wbr/>Regular<wbr/>Message<wbr/>Content</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthenticationCreds" class="tsd-kind-icon">Authentication<wbr/>Creds</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AuthenticationState" class="tsd-kind-icon">Authentication<wbr/>State</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BaileysEvent" class="tsd-kind-icon">Baileys<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BaileysEventMap" class="tsd-kind-icon">Baileys<wbr/>Event<wbr/>Map</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BinaryNode" class="tsd-kind-icon">Binary<wbr/>Node</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BinaryNodeAttributes" class="tsd-kind-icon">Binary<wbr/>Node<wbr/>Attributes</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BinaryNodeCodingOptions" class="tsd-kind-icon">Binary<wbr/>Node<wbr/>Coding<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BinaryNodeData" class="tsd-kind-icon">Binary<wbr/>Node<wbr/>Data</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BufferedEventData" class="tsd-kind-icon">Buffered<wbr/>Event<wbr/>Data</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ButtonReplyInfo" class="tsd-kind-icon">Button<wbr/>Reply<wbr/>Info</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CacheStore" class="tsd-kind-icon">Cache<wbr/>Store</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CatalogCollection" class="tsd-kind-icon">Catalog<wbr/>Collection</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CatalogCursor" class="tsd-kind-icon">Catalog<wbr/>Cursor</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CatalogResult" class="tsd-kind-icon">Catalog<wbr/>Result</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CatalogStatus" class="tsd-kind-icon">Catalog<wbr/>Status</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Chat" class="tsd-kind-icon">Chat</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ChatModification" class="tsd-kind-icon">Chat<wbr/>Modification</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ChatMutation" class="tsd-kind-icon">Chat<wbr/>Mutation</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ChatMutationMap" class="tsd-kind-icon">Chat<wbr/>Mutation<wbr/>Map</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ChatUpdate" class="tsd-kind-icon">Chat<wbr/>Update</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ConnectionState" class="tsd-kind-icon">Connection<wbr/>State</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CurveKeyPair" class="tsd-kind-icon">Curve<wbr/>Key<wbr/>Pair</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DebouncedTimeout" class="tsd-kind-icon">Debounced<wbr/>Timeout</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DownloadableMessage" class="tsd-kind-icon">Downloadable<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#FullJid" class="tsd-kind-icon">Full<wbr/>Jid</a></li><li class="tsd-kind-type-alias"><a href="modules.html#GetCatalogOptions" class="tsd-kind-icon">Get<wbr/>Catalog<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#GroupMetadataParticipants" class="tsd-kind-icon">Group<wbr/>Metadata<wbr/>Participants</a></li><li class="tsd-kind-type-alias"><a href="modules.html#GroupParticipant" class="tsd-kind-icon">Group<wbr/>Participant</a></li><li class="tsd-kind-type-alias"><a href="modules.html#InitialAppStateSyncOptions" class="tsd-kind-icon">Initial<wbr/>App<wbr/>State<wbr/>Sync<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#InitialReceivedChatsState" class="tsd-kind-icon">Initial<wbr/>Received<wbr/>Chats<wbr/>State</a></li><li class="tsd-kind-type-alias"><a href="modules.html#JidServer" class="tsd-kind-icon">Jid<wbr/>Server</a></li><li class="tsd-kind-type-alias"><a href="modules.html#JidWithDevice" class="tsd-kind-icon">Jid<wbr/>With<wbr/>Device</a></li><li class="tsd-kind-type-alias"><a href="modules.html#KeyPair" class="tsd-kind-icon">Key<wbr/>Pair</a></li><li class="tsd-kind-type-alias"><a href="modules.html#LTHashState" class="tsd-kind-icon">LTHash<wbr/>State</a></li><li class="tsd-kind-type-alias"><a href="modules.html#LastMessageList" class="tsd-kind-icon">Last<wbr/>Message<wbr/>List</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MediaConnInfo" class="tsd-kind-icon">Media<wbr/>Conn<wbr/>Info</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MediaDecryptionKeyInfo" class="tsd-kind-icon">Media<wbr/>Decryption<wbr/>Key<wbr/>Info</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MediaDownloadOptions" class="tsd-kind-icon">Media<wbr/>Download<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MediaGenerationOptions" class="tsd-kind-icon">Media<wbr/>Generation<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MediaType" class="tsd-kind-icon">Media<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageContentGenerationOptions" class="tsd-kind-icon">Message<wbr/>Content<wbr/>Generation<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageGenerationOptions" class="tsd-kind-icon">Message<wbr/>Generation<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageGenerationOptionsFromContent" class="tsd-kind-icon">Message<wbr/>Generation<wbr/>Options<wbr/>From<wbr/>Content</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageReceiptType" class="tsd-kind-icon">Message<wbr/>Receipt<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageRelayOptions" class="tsd-kind-icon">Message<wbr/>Relay<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageType" class="tsd-kind-icon">Message<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageUpsertType" class="tsd-kind-icon">Message<wbr/>Upsert<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageUserReceipt" class="tsd-kind-icon">Message<wbr/>User<wbr/>Receipt</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageUserReceiptUpdate" class="tsd-kind-icon">Message<wbr/>User<wbr/>Receipt<wbr/>Update</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MinimalMessage" class="tsd-kind-icon">Minimal<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MiscMessageGenerationOptions" class="tsd-kind-icon">Misc<wbr/>Message<wbr/>Generation<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#OrderDetails" class="tsd-kind-icon">Order<wbr/>Details</a></li><li class="tsd-kind-type-alias"><a href="modules.html#OrderPrice" class="tsd-kind-icon">Order<wbr/>Price</a></li><li class="tsd-kind-type-alias"><a href="modules.html#OrderProduct" class="tsd-kind-icon">Order<wbr/>Product</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ParticipantAction" class="tsd-kind-icon">Participant<wbr/>Action</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PollMessageOptions" class="tsd-kind-icon">Poll<wbr/>Message<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Product" class="tsd-kind-icon">Product</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ProductAvailability" class="tsd-kind-icon">Product<wbr/>Availability</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ProductBase" class="tsd-kind-icon">Product<wbr/>Base</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ProductCreate" class="tsd-kind-icon">Product<wbr/>Create</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ProductCreateResult" class="tsd-kind-icon">Product<wbr/>Create<wbr/>Result</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ProductUpdate" class="tsd-kind-icon">Product<wbr/>Update</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ProtocolAddress" class="tsd-kind-icon">Protocol<wbr/>Address</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SignalAuthState" class="tsd-kind-icon">Signal<wbr/>Auth<wbr/>State</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SignalCreds" class="tsd-kind-icon">Signal<wbr/>Creds</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SignalDataSet" class="tsd-kind-icon">Signal<wbr/>Data<wbr/>Set</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SignalDataTypeMap" class="tsd-kind-icon">Signal<wbr/>Data<wbr/>Type<wbr/>Map</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SignalIdentity" class="tsd-kind-icon">Signal<wbr/>Identity</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SignalKeyStore" class="tsd-kind-icon">Signal<wbr/>Key<wbr/>Store</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SignalKeyStoreWithTransaction" class="tsd-kind-icon">Signal<wbr/>Key<wbr/>Store<wbr/>With<wbr/>Transaction</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SignalRepository" class="tsd-kind-icon">Signal<wbr/>Repository</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SignedKeyPair" class="tsd-kind-icon">Signed<wbr/>Key<wbr/>Pair</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SocketConfig" class="tsd-kind-icon">Socket<wbr/>Config</a></li><li class="tsd-kind-type-alias"><a href="modules.html#TransactionCapabilityOptions" class="tsd-kind-icon">Transaction<wbr/>Capability<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#URLGenerationOptions" class="tsd-kind-icon">URLGeneration<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#UserFacingSocketConfig" class="tsd-kind-icon">User<wbr/>Facing<wbr/>Socket<wbr/>Config</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WABrowserDescription" class="tsd-kind-icon">WABrowser<wbr/>Description</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WABusinessHoursConfig" class="tsd-kind-icon">WABusiness<wbr/>Hours<wbr/>Config</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WABusinessProfile" class="tsd-kind-icon">WABusiness<wbr/>Profile</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WACallEvent" class="tsd-kind-icon">WACall<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WACallUpdateType" class="tsd-kind-icon">WACall<wbr/>Update<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAConnectionState" class="tsd-kind-icon">WAConnection<wbr/>State</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAContactMessage" class="tsd-kind-icon">WAContact<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAContactsArrayMessage" class="tsd-kind-icon">WAContacts<wbr/>Array<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAContextInfo" class="tsd-kind-icon">WAContext<wbr/>Info</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAGenericMediaMessage" class="tsd-kind-icon">WAGeneric<wbr/>Media<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAInitResponse" class="tsd-kind-icon">WAInit<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WALocationMessage" class="tsd-kind-icon">WALocation<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAMediaUpload" class="tsd-kind-icon">WAMedia<wbr/>Upload</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAMediaUploadFunction" class="tsd-kind-icon">WAMedia<wbr/>Upload<wbr/>Function</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAMessage" class="tsd-kind-icon">WAMessage</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAMessageContent" class="tsd-kind-icon">WAMessage<wbr/>Content</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAMessageCursor" class="tsd-kind-icon">WAMessage<wbr/>Cursor</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAMessageKey" class="tsd-kind-icon">WAMessage<wbr/>Key</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAMessageUpdate" class="tsd-kind-icon">WAMessage<wbr/>Update</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAPatchCreate" class="tsd-kind-icon">WAPatch<wbr/>Create</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAPatchName" class="tsd-kind-icon">WAPatch<wbr/>Name</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAPresence" class="tsd-kind-icon">WAPresence</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAPrivacyOnlineValue" class="tsd-kind-icon">WAPrivacy<wbr/>Online<wbr/>Value</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAPrivacyValue" class="tsd-kind-icon">WAPrivacy<wbr/>Value</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAReadReceiptsValue" class="tsd-kind-icon">WARead<wbr/>Receipts<wbr/>Value</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WASendableProduct" class="tsd-kind-icon">WASendable<wbr/>Product</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WASocket" class="tsd-kind-icon">WASocket</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WATextMessage" class="tsd-kind-icon">WAText<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WAVersion" class="tsd-kind-icon">WAVersion</a></li><li class="tsd-kind-variable"><a href="modules.html#ALL_WA_PATCH_NAMES" class="tsd-kind-icon">ALL_<wbr/>WA_<wbr/>PATCH_<wbr/>NAMES</a></li><li class="tsd-kind-variable"><a href="modules.html#Browsers" class="tsd-kind-icon">Browsers</a></li><li class="tsd-kind-variable"><a href="modules.html#BufferJSON" class="tsd-kind-icon">BufferJSON</a></li><li class="tsd-kind-variable"><a href="modules.html#Curve" class="tsd-kind-icon">Curve</a></li><li class="tsd-kind-variable"><a href="modules.html#DEFAULT_CACHE_TTLS" class="tsd-kind-icon">DEFAULT_<wbr/>CACHE_<wbr/>TTLS</a></li><li class="tsd-kind-variable"><a href="modules.html#DEFAULT_CONNECTION_CONFIG" class="tsd-kind-icon">DEFAULT_<wbr/>CONNECTION_<wbr/>CONFIG</a></li><li class="tsd-kind-variable"><a href="modules.html#DEFAULT_ORIGIN" class="tsd-kind-icon">DEFAULT_<wbr/>ORIGIN</a></li><li class="tsd-kind-variable"><a href="modules.html#DEF_CALLBACK_PREFIX" class="tsd-kind-icon">DEF_<wbr/>CALLBACK_<wbr/>PREFIX</a></li><li class="tsd-kind-variable"><a href="modules.html#DEF_TAG_PREFIX" class="tsd-kind-icon">DEF_<wbr/>TAG_<wbr/>PREFIX</a></li><li class="tsd-kind-variable"><a href="modules.html#DICT_VERSION" class="tsd-kind-icon">DICT_<wbr/>VERSION</a></li><li class="tsd-kind-variable"><a href="modules.html#INITIAL_PREKEY_COUNT" class="tsd-kind-icon">INITIAL_<wbr/>PREKEY_<wbr/>COUNT</a></li><li class="tsd-kind-variable"><a href="modules.html#KEY_BUNDLE_TYPE" class="tsd-kind-icon">KEY_<wbr/>BUNDLE_<wbr/>TYPE</a></li><li class="tsd-kind-variable"><a href="modules.html#LT_HASH_ANTI_TAMPERING" class="tsd-kind-icon">LT_<wbr/>HASH_<wbr/>ANTI_<wbr/>TAMPERING</a></li><li class="tsd-kind-variable"><a href="modules.html#MEDIA_HKDF_KEY_MAPPING" class="tsd-kind-icon">MEDIA_<wbr/>HKDF_<wbr/>KEY_<wbr/>MAPPING</a></li><li class="tsd-kind-variable"><a href="modules.html#MEDIA_KEYS" class="tsd-kind-icon">MEDIA_<wbr/>KEYS</a></li><li class="tsd-kind-variable"><a href="modules.html#MEDIA_PATH_MAP" class="tsd-kind-icon">MEDIA_<wbr/>PATH_<wbr/>MAP</a></li><li class="tsd-kind-variable"><a href="modules.html#MIN_PREKEY_COUNT" class="tsd-kind-icon">MIN_<wbr/>PREKEY_<wbr/>COUNT</a></li><li class="tsd-kind-variable"><a href="modules.html#NOISE_MODE" class="tsd-kind-icon">NOISE_<wbr/>MODE</a></li><li class="tsd-kind-variable"><a href="modules.html#NOISE_WA_HEADER" class="tsd-kind-icon">NOISE_<wbr/>WA_<wbr/>HEADER</a></li><li class="tsd-kind-variable"><a href="modules.html#OFFICIAL_BIZ_JID" class="tsd-kind-icon">OFFICIAL_<wbr/>BIZ_<wbr/>JID</a></li><li class="tsd-kind-variable"><a href="modules.html#PHONE_CONNECTION_CB" class="tsd-kind-icon">PHONE_<wbr/>CONNECTION_<wbr/>CB</a></li><li class="tsd-kind-variable"><a href="modules.html#PROCESSABLE_HISTORY_TYPES" class="tsd-kind-icon">PROCESSABLE_<wbr/>HISTORY_<wbr/>TYPES</a></li><li class="tsd-kind-variable"><a href="modules.html#PSA_WID" class="tsd-kind-icon">PSA_<wbr/>WID</a></li><li class="tsd-kind-variable"><a href="modules.html#SERVER_JID" class="tsd-kind-icon">SERVER_<wbr/>JID</a></li><li class="tsd-kind-variable"><a href="modules.html#STORIES_JID" class="tsd-kind-icon">STORIES_<wbr/>JID</a></li><li class="tsd-kind-variable"><a href="modules.html#S_WHATSAPP_NET" class="tsd-kind-icon">S_<wbr/>WHATSAPP_<wbr/>NET</a></li><li class="tsd-kind-variable"><a href="modules.html#UNAUTHORIZED_CODES" class="tsd-kind-icon">UNAUTHORIZED_<wbr/>CODES</a></li><li class="tsd-kind-variable"><a href="modules.html#URL_EXCLUDE_REGEX" class="tsd-kind-icon">URL_<wbr/>EXCLUDE_<wbr/>REGEX</a></li><li class="tsd-kind-variable"><a href="modules.html#URL_REGEX" class="tsd-kind-icon">URL_<wbr/>REGEX</a></li><li class="tsd-kind-variable"><a href="modules.html#WA_CERT_DETAILS" class="tsd-kind-icon">WA_<wbr/>CERT_<wbr/>DETAILS</a></li><li class="tsd-kind-variable"><a href="modules.html#WA_DEFAULT_EPHEMERAL" class="tsd-kind-icon">WA_<wbr/>DEFAULT_<wbr/>EPHEMERAL</a></li><li class="tsd-kind-function"><a href="modules.html#addTransactionCapability" class="tsd-kind-icon">add<wbr/>Transaction<wbr/>Capability</a></li><li class="tsd-kind-function"><a href="modules.html#aesDecrypt" class="tsd-kind-icon">aes<wbr/>Decrypt</a></li><li class="tsd-kind-function"><a href="modules.html#aesDecryptGCM" class="tsd-kind-icon">aes<wbr/>DecryptGCM</a></li><li class="tsd-kind-function"><a href="modules.html#aesDecryptWithIV" class="tsd-kind-icon">aes<wbr/>Decrypt<wbr/>WithIV</a></li><li class="tsd-kind-function"><a href="modules.html#aesEncrypWithIV" class="tsd-kind-icon">aes<wbr/>Encryp<wbr/>WithIV</a></li><li class="tsd-kind-function"><a href="modules.html#aesEncrypt" class="tsd-kind-icon">aes<wbr/>Encrypt</a></li><li class="tsd-kind-function"><a href="modules.html#aesEncryptGCM" class="tsd-kind-icon">aes<wbr/>EncryptGCM</a></li><li class="tsd-kind-function"><a href="modules.html#aggregateMessageKeysNotFromMe" class="tsd-kind-icon">aggregate<wbr/>Message<wbr/>Keys<wbr/>Not<wbr/>From<wbr/>Me</a></li><li class="tsd-kind-function"><a href="modules.html#areJidsSameUser" class="tsd-kind-icon">are<wbr/>Jids<wbr/>Same<wbr/>User</a></li><li class="tsd-kind-function"><a href="modules.html#assertMediaContent" class="tsd-kind-icon">assert<wbr/>Media<wbr/>Content</a></li><li class="tsd-kind-function"><a href="modules.html#assertNodeErrorFree" class="tsd-kind-icon">assert<wbr/>Node<wbr/>Error<wbr/>Free</a></li><li class="tsd-kind-function"><a href="modules.html#bindWaitForConnectionUpdate" class="tsd-kind-icon">bind<wbr/>Wait<wbr/>For<wbr/>Connection<wbr/>Update</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#bindWaitForEvent" class="tsd-kind-icon">bind<wbr/>Wait<wbr/>For<wbr/>Event</a></li><li class="tsd-kind-function"><a href="modules.html#captureEventStream" class="tsd-kind-icon">capture<wbr/>Event<wbr/>Stream</a></li><li class="tsd-kind-function"><a href="modules.html#chatModificationToAppPatch" class="tsd-kind-icon">chat<wbr/>Modification<wbr/>To<wbr/>App<wbr/>Patch</a></li><li class="tsd-kind-function"><a href="modules.html#cleanMessage" class="tsd-kind-icon">clean<wbr/>Message</a></li><li class="tsd-kind-function"><a href="modules.html#configureSuccessfulPairing" class="tsd-kind-icon">configure<wbr/>Successful<wbr/>Pairing</a></li><li class="tsd-kind-function"><a href="modules.html#createSignalIdentity" class="tsd-kind-icon">create<wbr/>Signal<wbr/>Identity</a></li><li class="tsd-kind-function"><a href="modules.html#debouncedTimeout" class="tsd-kind-icon">debounced<wbr/>Timeout</a></li><li class="tsd-kind-function"><a href="modules.html#decodeBinaryNode" class="tsd-kind-icon">decode<wbr/>Binary<wbr/>Node</a></li><li class="tsd-kind-function"><a href="modules.html#decodeDecompressedBinaryNode" class="tsd-kind-icon">decode<wbr/>Decompressed<wbr/>Binary<wbr/>Node</a></li><li class="tsd-kind-function"><a href="modules.html#decodeMediaRetryNode" class="tsd-kind-icon">decode<wbr/>Media<wbr/>Retry<wbr/>Node</a></li><li class="tsd-kind-function"><a href="modules.html#decodeMessageNode" class="tsd-kind-icon">decode<wbr/>Message<wbr/>Node</a></li><li class="tsd-kind-function"><a href="modules.html#decodePatches" class="tsd-kind-icon">decode<wbr/>Patches</a></li><li class="tsd-kind-function"><a href="modules.html#decodeSyncdMutations" class="tsd-kind-icon">decode<wbr/>Syncd<wbr/>Mutations</a></li><li class="tsd-kind-function"><a href="modules.html#decodeSyncdPatch" class="tsd-kind-icon">decode<wbr/>Syncd<wbr/>Patch</a></li><li class="tsd-kind-function"><a href="modules.html#decodeSyncdSnapshot" class="tsd-kind-icon">decode<wbr/>Syncd<wbr/>Snapshot</a></li><li class="tsd-kind-function"><a href="modules.html#decompressingIfRequired" class="tsd-kind-icon">decompressing<wbr/>If<wbr/>Required</a></li><li class="tsd-kind-function"><a href="modules.html#decryptMediaRetryData" class="tsd-kind-icon">decrypt<wbr/>Media<wbr/>Retry<wbr/>Data</a></li><li class="tsd-kind-function"><a href="modules.html#decryptMessageNode" class="tsd-kind-icon">decrypt<wbr/>Message<wbr/>Node</a></li><li class="tsd-kind-function"><a href="modules.html#decryptPollVote" class="tsd-kind-icon">decrypt<wbr/>Poll<wbr/>Vote</a></li><li class="tsd-kind-function"><a href="modules.html#default" class="tsd-kind-icon">default</a></li><li class="tsd-kind-function"><a href="modules.html#delay" class="tsd-kind-icon">delay</a></li><li class="tsd-kind-function"><a href="modules.html#delayCancellable" class="tsd-kind-icon">delay<wbr/>Cancellable</a></li><li class="tsd-kind-function"><a href="modules.html#downloadAndProcessHistorySyncNotification" class="tsd-kind-icon">download<wbr/>And<wbr/>Process<wbr/>History<wbr/>Sync<wbr/>Notification</a></li><li class="tsd-kind-function"><a href="modules.html#downloadContentFromMessage" class="tsd-kind-icon">download<wbr/>Content<wbr/>From<wbr/>Message</a></li><li class="tsd-kind-function"><a href="modules.html#downloadEncryptedContent" class="tsd-kind-icon">download<wbr/>Encrypted<wbr/>Content</a></li><li class="tsd-kind-function"><a href="modules.html#downloadExternalBlob" class="tsd-kind-icon">download<wbr/>External<wbr/>Blob</a></li><li class="tsd-kind-function"><a href="modules.html#downloadExternalPatch" class="tsd-kind-icon">download<wbr/>External<wbr/>Patch</a></li><li class="tsd-kind-function"><a href="modules.html#downloadHistory" class="tsd-kind-icon">download<wbr/>History</a></li><li class="tsd-kind-function"><a href="modules.html#downloadMediaMessage" class="tsd-kind-icon">download<wbr/>Media<wbr/>Message</a></li><li class="tsd-kind-function"><a href="modules.html#encodeBase64EncodedStringForUpload" class="tsd-kind-icon">encode<wbr/>Base64<wbr/>Encoded<wbr/>String<wbr/>For<wbr/>Upload</a></li><li class="tsd-kind-function"><a href="modules.html#encodeBigEndian" class="tsd-kind-icon">encode<wbr/>Big<wbr/>Endian</a></li><li class="tsd-kind-function"><a href="modules.html#encodeBinaryNode" class="tsd-kind-icon">encode<wbr/>Binary<wbr/>Node</a></li><li class="tsd-kind-function"><a href="modules.html#encodeSignedDeviceIdentity" class="tsd-kind-icon">encode<wbr/>Signed<wbr/>Device<wbr/>Identity</a></li><li class="tsd-kind-function"><a href="modules.html#encodeSyncdPatch" class="tsd-kind-icon">encode<wbr/>Syncd<wbr/>Patch</a></li><li class="tsd-kind-function"><a href="modules.html#encodeWAMessage" class="tsd-kind-icon">encodeWAMessage</a></li><li class="tsd-kind-function"><a href="modules.html#encryptMediaRetryRequest" class="tsd-kind-icon">encrypt<wbr/>Media<wbr/>Retry<wbr/>Request</a></li><li class="tsd-kind-function"><a href="modules.html#encryptedStream" class="tsd-kind-icon">encrypted<wbr/>Stream</a></li><li class="tsd-kind-function"><a href="modules.html#extensionForMediaMessage" class="tsd-kind-icon">extension<wbr/>For<wbr/>Media<wbr/>Message</a></li><li class="tsd-kind-function"><a href="modules.html#extractDeviceJids" class="tsd-kind-icon">extract<wbr/>Device<wbr/>Jids</a></li><li class="tsd-kind-function"><a href="modules.html#extractImageThumb" class="tsd-kind-icon">extract<wbr/>Image<wbr/>Thumb</a></li><li class="tsd-kind-function"><a href="modules.html#extractMessageContent" class="tsd-kind-icon">extract<wbr/>Message<wbr/>Content</a></li><li class="tsd-kind-function"><a href="modules.html#extractSyncdPatches" class="tsd-kind-icon">extract<wbr/>Syncd<wbr/>Patches</a></li><li class="tsd-kind-function"><a href="modules.html#extractUrlFromText" class="tsd-kind-icon">extract<wbr/>Url<wbr/>From<wbr/>Text</a></li><li class="tsd-kind-function"><a href="modules.html#fetchLatestBaileysVersion" class="tsd-kind-icon">fetch<wbr/>Latest<wbr/>Baileys<wbr/>Version</a></li><li class="tsd-kind-function"><a href="modules.html#fetchLatestWaWebVersion" class="tsd-kind-icon">fetch<wbr/>Latest<wbr/>Wa<wbr/>Web<wbr/>Version</a></li><li class="tsd-kind-function"><a href="modules.html#generateForwardMessageContent" class="tsd-kind-icon">generate<wbr/>Forward<wbr/>Message<wbr/>Content</a></li><li class="tsd-kind-function"><a href="modules.html#generateLinkPreviewIfRequired" class="tsd-kind-icon">generate<wbr/>Link<wbr/>Preview<wbr/>If<wbr/>Required</a></li><li class="tsd-kind-function"><a href="modules.html#generateLoginNode" class="tsd-kind-icon">generate<wbr/>Login<wbr/>Node</a></li><li class="tsd-kind-function"><a href="modules.html#generateMdTagPrefix" class="tsd-kind-icon">generate<wbr/>Md<wbr/>Tag<wbr/>Prefix</a></li><li class="tsd-kind-function"><a href="modules.html#generateMessageID" class="tsd-kind-icon">generate<wbr/>MessageID</a></li><li class="tsd-kind-function"><a href="modules.html#generateOrGetPreKeys" class="tsd-kind-icon">generate<wbr/>Or<wbr/>Get<wbr/>Pre<wbr/>Keys</a></li><li class="tsd-kind-function"><a href="modules.html#generateProfilePicture" class="tsd-kind-icon">generate<wbr/>Profile<wbr/>Picture</a></li><li class="tsd-kind-function"><a href="modules.html#generateRegistrationId" class="tsd-kind-icon">generate<wbr/>Registration<wbr/>Id</a></li><li class="tsd-kind-function"><a href="modules.html#generateRegistrationNode" class="tsd-kind-icon">generate<wbr/>Registration<wbr/>Node</a></li><li class="tsd-kind-function"><a href="modules.html#generateSignalPubKey" class="tsd-kind-icon">generate<wbr/>Signal<wbr/>Pub<wbr/>Key</a></li><li class="tsd-kind-function"><a href="modules.html#generateThumbnail" class="tsd-kind-icon">generate<wbr/>Thumbnail</a></li><li class="tsd-kind-function"><a href="modules.html#generateWAMessage" class="tsd-kind-icon">generateWAMessage</a></li><li class="tsd-kind-function"><a href="modules.html#generateWAMessageContent" class="tsd-kind-icon">generateWAMessage<wbr/>Content</a></li><li class="tsd-kind-function"><a href="modules.html#generateWAMessageFromContent" class="tsd-kind-icon">generateWAMessage<wbr/>From<wbr/>Content</a></li><li class="tsd-kind-function"><a href="modules.html#getAggregateVotesInPollMessage" class="tsd-kind-icon">get<wbr/>Aggregate<wbr/>Votes<wbr/>In<wbr/>Poll<wbr/>Message</a></li><li class="tsd-kind-function"><a href="modules.html#getAllBinaryNodeChildren" class="tsd-kind-icon">get<wbr/>All<wbr/>Binary<wbr/>Node<wbr/>Children</a></li><li class="tsd-kind-function"><a href="modules.html#getAudioDuration" class="tsd-kind-icon">get<wbr/>Audio<wbr/>Duration</a></li><li class="tsd-kind-function"><a href="modules.html#getBinaryNodeChild" class="tsd-kind-icon">get<wbr/>Binary<wbr/>Node<wbr/>Child</a></li><li class="tsd-kind-function"><a href="modules.html#getBinaryNodeChildBuffer" class="tsd-kind-icon">get<wbr/>Binary<wbr/>Node<wbr/>Child<wbr/>Buffer</a></li><li class="tsd-kind-function"><a href="modules.html#getBinaryNodeChildString" class="tsd-kind-icon">get<wbr/>Binary<wbr/>Node<wbr/>Child<wbr/>String</a></li><li class="tsd-kind-function"><a href="modules.html#getBinaryNodeChildUInt" class="tsd-kind-icon">get<wbr/>Binary<wbr/>Node<wbr/>ChildUInt</a></li><li class="tsd-kind-function"><a href="modules.html#getBinaryNodeChildren" class="tsd-kind-icon">get<wbr/>Binary<wbr/>Node<wbr/>Children</a></li><li class="tsd-kind-function"><a href="modules.html#getBinaryNodeMessages" class="tsd-kind-icon">get<wbr/>Binary<wbr/>Node<wbr/>Messages</a></li><li class="tsd-kind-function"><a href="modules.html#getCallStatusFromNode" class="tsd-kind-icon">get<wbr/>Call<wbr/>Status<wbr/>From<wbr/>Node</a></li><li class="tsd-kind-function"><a href="modules.html#getChatId" class="tsd-kind-icon">get<wbr/>Chat<wbr/>Id</a></li><li class="tsd-kind-function"><a href="modules.html#getCodeFromWSError" class="tsd-kind-icon">get<wbr/>Code<wbr/>FromWSError</a></li><li class="tsd-kind-function"><a href="modules.html#getContentType" class="tsd-kind-icon">get<wbr/>Content<wbr/>Type</a></li><li class="tsd-kind-function"><a href="modules.html#getDevice" class="tsd-kind-icon">get<wbr/>Device</a></li><li class="tsd-kind-function"><a href="modules.html#getErrorCodeFromStreamError" class="tsd-kind-icon">get<wbr/>Error<wbr/>Code<wbr/>From<wbr/>Stream<wbr/>Error</a></li><li class="tsd-kind-function"><a href="modules.html#getHistoryMsg" class="tsd-kind-icon">get<wbr/>History<wbr/>Msg</a></li><li class="tsd-kind-function"><a href="modules.html#getHttpStream" class="tsd-kind-icon">get<wbr/>Http<wbr/>Stream</a></li><li class="tsd-kind-function"><a href="modules.html#getKeyAuthor" class="tsd-kind-icon">get<wbr/>Key<wbr/>Author</a></li><li class="tsd-kind-function"><a href="modules.html#getMediaKeys" class="tsd-kind-icon">get<wbr/>Media<wbr/>Keys</a></li><li class="tsd-kind-function"><a href="modules.html#getNextPreKeys" class="tsd-kind-icon">get<wbr/>Next<wbr/>Pre<wbr/>Keys</a></li><li class="tsd-kind-function"><a href="modules.html#getNextPreKeysNode" class="tsd-kind-icon">get<wbr/>Next<wbr/>Pre<wbr/>Keys<wbr/>Node</a></li><li class="tsd-kind-function"><a href="modules.html#getPreKeys" class="tsd-kind-icon">get<wbr/>Pre<wbr/>Keys</a></li><li class="tsd-kind-function"><a href="modules.html#getStatusCodeForMediaRetry" class="tsd-kind-icon">get<wbr/>Status<wbr/>Code<wbr/>For<wbr/>Media<wbr/>Retry</a></li><li class="tsd-kind-function"><a href="modules.html#getStatusFromReceiptType" class="tsd-kind-icon">get<wbr/>Status<wbr/>From<wbr/>Receipt<wbr/>Type</a></li><li class="tsd-kind-function"><a href="modules.html#getStream" class="tsd-kind-icon">get<wbr/>Stream</a></li><li class="tsd-kind-function"><a href="modules.html#getUrlFromDirectPath" class="tsd-kind-icon">get<wbr/>Url<wbr/>From<wbr/>Direct<wbr/>Path</a></li><li class="tsd-kind-function"><a href="modules.html#getUrlInfo" class="tsd-kind-icon">get<wbr/>Url<wbr/>Info</a></li><li class="tsd-kind-function"><a href="modules.html#getWAUploadToServer" class="tsd-kind-icon">getWAUpload<wbr/>To<wbr/>Server</a></li><li class="tsd-kind-function"><a href="modules.html#hkdf" class="tsd-kind-icon">hkdf</a></li><li class="tsd-kind-function"><a href="modules.html#hkdfInfoKey" class="tsd-kind-icon">hkdf<wbr/>Info<wbr/>Key</a></li><li class="tsd-kind-function"><a href="modules.html#hmacSign" class="tsd-kind-icon">hmac<wbr/>Sign</a></li><li class="tsd-kind-function"><a href="modules.html#initAuthCreds" class="tsd-kind-icon">init<wbr/>Auth<wbr/>Creds</a></li><li class="tsd-kind-function"><a href="modules.html#isJidBroadcast" class="tsd-kind-icon">is<wbr/>Jid<wbr/>Broadcast</a></li><li class="tsd-kind-function"><a href="modules.html#isJidGroup" class="tsd-kind-icon">is<wbr/>Jid<wbr/>Group</a></li><li class="tsd-kind-function"><a href="modules.html#isJidStatusBroadcast" class="tsd-kind-icon">is<wbr/>Jid<wbr/>Status<wbr/>Broadcast</a></li><li class="tsd-kind-function"><a href="modules.html#isJidUser" class="tsd-kind-icon">is<wbr/>Jid<wbr/>User</a></li><li class="tsd-kind-function"><a href="modules.html#isRealMessage" class="tsd-kind-icon">is<wbr/>Real<wbr/>Message</a></li><li class="tsd-kind-function"><a href="modules.html#isWABusinessPlatform" class="tsd-kind-icon">isWABusiness<wbr/>Platform</a></li><li class="tsd-kind-function"><a href="modules.html#jidDecode" class="tsd-kind-icon">jid<wbr/>Decode</a></li><li class="tsd-kind-function"><a href="modules.html#jidEncode" class="tsd-kind-icon">jid<wbr/>Encode</a></li><li class="tsd-kind-function"><a href="modules.html#jidNormalizedUser" class="tsd-kind-icon">jid<wbr/>Normalized<wbr/>User</a></li><li class="tsd-kind-function"><a href="modules.html#makeCacheableSignalKeyStore" class="tsd-kind-icon">make<wbr/>Cacheable<wbr/>Signal<wbr/>Key<wbr/>Store</a></li><li class="tsd-kind-function"><a href="modules.html#makeEventBuffer" class="tsd-kind-icon">make<wbr/>Event<wbr/>Buffer</a></li><li class="tsd-kind-function"><a href="modules.html#makeInMemoryStore" class="tsd-kind-icon">make<wbr/>In<wbr/>Memory<wbr/>Store</a></li><li class="tsd-kind-function"><a href="modules.html#makeNoiseHandler" class="tsd-kind-icon">make<wbr/>Noise<wbr/>Handler</a></li><li class="tsd-kind-function"><a href="modules.html#mediaMessageSHA256B64" class="tsd-kind-icon">media<wbr/>MessageSHA256<wbr/>B64</a></li><li class="tsd-kind-function"><a href="modules.html#newLTHashState" class="tsd-kind-icon">newLTHash<wbr/>State</a></li><li class="tsd-kind-function"><a href="modules.html#normalizeMessageContent" class="tsd-kind-icon">normalize<wbr/>Message<wbr/>Content</a></li><li class="tsd-kind-function"><a href="modules.html#parseAndInjectE2ESessions" class="tsd-kind-icon">parse<wbr/>And<wbr/>Inject<wbr/>E2ESessions</a></li><li class="tsd-kind-function"><a href="modules.html#prepareDisappearingMessageSettingContent" class="tsd-kind-icon">prepare<wbr/>Disappearing<wbr/>Message<wbr/>Setting<wbr/>Content</a></li><li class="tsd-kind-function"><a href="modules.html#prepareWAMessageMedia" class="tsd-kind-icon">prepareWAMessage<wbr/>Media</a></li><li class="tsd-kind-function"><a href="modules.html#printQRIfNecessaryListener" class="tsd-kind-icon">printQRIf<wbr/>Necessary<wbr/>Listener</a></li><li class="tsd-kind-function"><a href="modules.html#processHistoryMessage" class="tsd-kind-icon">process<wbr/>History<wbr/>Message</a></li><li class="tsd-kind-function"><a href="modules.html#processSyncAction" class="tsd-kind-icon">process<wbr/>Sync<wbr/>Action</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#promiseTimeout" class="tsd-kind-icon">promise<wbr/>Timeout</a></li><li class="tsd-kind-function"><a href="modules.html#readAndEmitEventStream" class="tsd-kind-icon">read<wbr/>And<wbr/>Emit<wbr/>Event<wbr/>Stream</a></li><li class="tsd-kind-function"><a href="modules.html#reduceBinaryNodeToDictionary" class="tsd-kind-icon">reduce<wbr/>Binary<wbr/>Node<wbr/>To<wbr/>Dictionary</a></li><li class="tsd-kind-function"><a href="modules.html#sha256" class="tsd-kind-icon">sha256</a></li><li class="tsd-kind-function"><a href="modules.html#shouldIncrementChatUnread" class="tsd-kind-icon">should<wbr/>Increment<wbr/>Chat<wbr/>Unread</a></li><li class="tsd-kind-function"><a href="modules.html#signedKeyPair" class="tsd-kind-icon">signed<wbr/>Key<wbr/>Pair</a></li><li class="tsd-kind-function"><a href="modules.html#toBuffer" class="tsd-kind-icon">to<wbr/>Buffer</a></li><li class="tsd-kind-function"><a href="modules.html#toNumber" class="tsd-kind-icon">to<wbr/>Number</a></li><li class="tsd-kind-function"><a href="modules.html#toReadable" class="tsd-kind-icon">to<wbr/>Readable</a></li><li class="tsd-kind-function"><a href="modules.html#trimUndefineds" class="tsd-kind-icon">trim<wbr/>Undefineds</a></li><li class="tsd-kind-function"><a href="modules.html#unixTimestampSeconds" class="tsd-kind-icon">unix<wbr/>Timestamp<wbr/>Seconds</a></li><li class="tsd-kind-function"><a href="modules.html#unpadRandomMax16" class="tsd-kind-icon">unpad<wbr/>Random<wbr/>Max16</a></li><li class="tsd-kind-function"><a href="modules.html#updateMessageWithPollUpdate" class="tsd-kind-icon">update<wbr/>Message<wbr/>With<wbr/>Poll<wbr/>Update</a></li><li class="tsd-kind-function"><a href="modules.html#updateMessageWithReaction" class="tsd-kind-icon">update<wbr/>Message<wbr/>With<wbr/>Reaction</a></li><li class="tsd-kind-function"><a href="modules.html#updateMessageWithReceipt" class="tsd-kind-icon">update<wbr/>Message<wbr/>With<wbr/>Receipt</a></li><li class="tsd-kind-function"><a href="modules.html#useMultiFileAuthState" class="tsd-kind-icon">use<wbr/>Multi<wbr/>File<wbr/>Auth<wbr/>State</a></li><li class="tsd-kind-function"><a href="modules.html#writeRandomPadMax16" class="tsd-kind-icon">write<wbr/>Random<wbr/>Pad<wbr/>Max16</a></li><li class="tsd-kind-function"><a href="modules.html#xmppPreKey" class="tsd-kind-icon">xmpp<wbr/>Pre<wbr/>Key</a></li><li class="tsd-kind-function"><a href="modules.html#xmppSignedPreKey" class="tsd-kind-icon">xmpp<wbr/>Signed<wbr/>Pre<wbr/>Key</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'G-WBY63HR4VS', 'auto');
ga('send', 'pageview');</script></body></html>